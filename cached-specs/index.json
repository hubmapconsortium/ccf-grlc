{
  "openapi": "3.0.3",
  "info": {
    "contact": {
      "name": "hubmapconsortium",
      "url": "https://github.com/hubmapconsortium"
    },
    "description": "ccf-grlc: Useful SPARQL queries for HRA work + API via grlc.io",
    "license": {
      "name": "License",
      "url": "https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra/LICENSE"
    },
    "title": "ccf-grlc",
    "version": "ea75ac7931dc2c543c8dc33ef9231db93e58a90e"
  },
  "servers": [
    {
      "url": "https://grlc.io/api-git/hubmapconsortium/ccf-grlc/subdir"
    }
  ],
  "paths": {
    "/hra/2d-ftu-parts": {
      "get": {
        "description": "\n\n```\n#+ summary: get 2D FTU images and parts\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX schema: <http://schema.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX LOD: <https://lod.humanatlas.io>\n\nSELECT DISTINCT ?organ_id ?ftu_digital_object ?image_url ?organ_label ?ftu_label ?ftu_part_label ?organ_iri ?ftu_iri ?ftu_part_iri\nFROM HRA:\nWHERE {\n  ?ftu_illustration a ccf:FtuIllustration ;\n  \ta ?ftu_iri ;\n  \tccf:ccf_located_in ?organ_iri ;\n    ccf:illustration_node [ a ?ftu_part_iri ] ;\n    ccf:image_file [\n      ccf:file_format ?format ;\n      ccf:file_url ?image_url\n    ] .\n  BIND(IRI(REPLACE(STR(?ftu_illustration), \"#primary\", \"\")) as ?ftu_digital_object)\n  \n  ?ftu_part_iri rdfs:label ?ftu_part_label .\n  ?ftu_iri rdfs:label ?ftu_label .\n  ?organ_iri rdfs:label ?organ_label .\n\n  BIND(IRI(REPLACE(STR(?organ_iri), STR(UBERON:), 'UBERON:')) as ?organ_id)\n  FILTER(?format = \"image/png\") # or \"image/svg+xml\"\n  FILTER(STRSTARTS(STR(?ftu_iri), STR(obo:)))\n  FILTER(STRSTARTS(STR(?ftu_part_iri), STR(obo:)))\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get 2D FTU images and parts",
        "tags": []
      }
    },
    "/hra/2d-ftu-parts-unique": {
      "get": {
        "description": "\n\n```\n#+ summary: get 2D FTU images and parts that are unique to the ftu\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX overlaps: <http://purl.obolibrary.org/obo/RO_0002131>\nPREFIX cl_owl: <http://purl.obolibrary.org/obo/cl.owl>\nPREFIX pcl_owl: <http://purl.obolibrary.org/obo/pcl.owl>\nPREFIX uberon_owl: <http://purl.obolibrary.org/obo/uberon.owl>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?organ_id ?ftu_digital_object ?image_url ?organ_label ?ftu_label ?ftu_part_label ?organ_iri ?ftu_iri ?ftu_part_iri\nFROM <https://purl.humanatlas.io/vocab/uberon>\nFROM <https://purl.humanatlas.io/vocab/cl>\nFROM <https://purl.humanatlas.io/vocab/uberon/redundant>\nFROM <https://purl.humanatlas.io/vocab/cl/redundant>\nFROM NAMED HRA:\nWHERE {\n  GRAPH HRA: {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      a ?ftu_iri ;\n      ccf:ccf_located_in ?organ_iri ;\n      ccf:illustration_node [ a ?ftu_part_iri ] ;\n      ccf:image_file [\n        ccf:file_format ?format ;\n        ccf:file_url ?image_url\n      ] .\n    BIND(IRI(REPLACE(STR(?ftu_illustration), \"#primary\", \"\")) as ?ftu_digital_object)\n    \n    ?ftu_part_iri rdfs:label ?ftu_part_label .\n    ?ftu_iri rdfs:label ?ftu_label .\n    ?organ_iri rdfs:label ?organ_label .\n\n    BIND(IRI(REPLACE(STR(?organ_iri), STR(UBERON:), 'UBERON:')) as ?organ_id)\n    FILTER(?format = \"image/png\") # or \"image/svg+xml\"\n    FILTER(STRSTARTS(STR(?ftu_iri), STR(obo:)))\n    FILTER(STRSTARTS(STR(?ftu_part_iri), STR(obo:)))\n  }\n\n  ?parent_as part_of: ?organ_iri .\n  ?ftu_iri part_of:* ?parent_as .\n  ?ftu_part_iri overlaps:|part_of:+ ?ftu_iri .\n\n  OPTIONAL {\n    ?other_as part_of: ?organ_iri .\n    ?ftu_part_iri overlaps:|part_of:+ ?other_as .\n    FILTER(?other_as != ?organ_iri && ?other_as != ?ftu_iri && ?other_as != ?parent_as)\n  }\n  FILTER(!BOUND(?other_as))\n}\nORDER BY ?ftu_digital_object\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get 2D FTU images and parts that are unique to the ftu",
        "tags": []
      }
    },
    "/hra/2d-ftu-parts-unique-hra": {
      "get": {
        "description": "\n\n```\n#+ summary: get 2D FTU images and parts that are unique to the ftu (via ASCT+B relationships)\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX overlaps: <http://purl.obolibrary.org/obo/RO_0002131>\nPREFIX cl_owl: <http://purl.obolibrary.org/obo/cl.owl>\nPREFIX pcl_owl: <http://purl.obolibrary.org/obo/pcl.owl>\nPREFIX uberon_owl: <http://purl.obolibrary.org/obo/uberon.owl>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?organ_id ?ftu_digital_object ?image_url ?organ_label ?ftu_label ?ftu_part_label ?organ_iri ?ftu_iri ?ftu_part_iri\nFROM HRA:\nWHERE {\n  {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      a ?ftu_iri ;\n      ccf:ccf_located_in ?organ_iri ;\n      ccf:illustration_node [ a ?ftu_part_iri ] ;\n      ccf:image_file [\n        ccf:file_format ?format ;\n        ccf:file_url ?image_url\n      ] .\n    BIND(IRI(REPLACE(STR(?ftu_illustration), \"#primary\", \"\")) as ?ftu_digital_object)\n    \n    ?ftu_part_iri rdfs:label ?ftu_part_label .\n    ?ftu_iri rdfs:label ?ftu_label .\n    ?organ_iri rdfs:label ?organ_label .\n\n    BIND(IRI(REPLACE(STR(?organ_iri), STR(UBERON:), 'UBERON:')) as ?organ_id)\n    FILTER(?format = \"image/png\") # or \"image/svg+xml\"\n    FILTER(STRSTARTS(STR(?ftu_iri), STR(obo:)))\n    FILTER(STRSTARTS(STR(?ftu_part_iri), STR(obo:)))\n  }\n\n  ?parent_as ccf:ccf_part_of ?organ_iri .\n  ?ftu_iri ccf:ccf_part_of* ?parent_as .\n  ?ftu_part_iri ccf:ccf_located_in|ccf:ccf_part_of+ ?ftu_iri .\n\n  OPTIONAL {\n    ?other_as ccf:ccf_part_of ?organ_iri .\n    ?ftu_part_iri ccf:ccf_located_in|ccf:ccf_part_of+ ?other_as .\n    FILTER(?other_as != ?organ_iri && ?other_as != ?ftu_iri && ?other_as != ?parent_as)\n  }\n  FILTER(!BOUND(?other_as))\n}\nORDER BY ?ftu_digital_object\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get 2D FTU images and parts that are unique to the ftu (via ASCT+B relationships)",
        "tags": []
      }
    },
    "/hra/2d-ftu-parts-unique-hra-obo": {
      "get": {
        "description": "\n\n```\n#+ summary: get 2D FTU images and parts that are unique to the ftu (via ASCT+B and OBO relationships)\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX overlaps: <http://purl.obolibrary.org/obo/RO_0002131>\nPREFIX cl_owl: <http://purl.obolibrary.org/obo/cl.owl>\nPREFIX pcl_owl: <http://purl.obolibrary.org/obo/pcl.owl>\nPREFIX uberon_owl: <http://purl.obolibrary.org/obo/uberon.owl>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?organ_id ?ftu_digital_object ?image_url ?organ_label ?ftu_label ?ftu_part_label ?organ_iri ?ftu_iri ?ftu_part_iri\nFROM <https://purl.humanatlas.io/vocab/uberon>\nFROM <https://purl.humanatlas.io/vocab/cl>\nFROM <https://purl.humanatlas.io/vocab/uberon/redundant>\nFROM <https://purl.humanatlas.io/vocab/cl/redundant>\nFROM HRA:\nFROM NAMED HRA:\nWHERE {\n  # Find all FTU Illustrations and their parts\n  GRAPH HRA: {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      a ?ftu_iri ;\n      ccf:ccf_located_in ?organ_iri ;\n      ccf:illustration_node [ a ?ftu_part_iri ] ;\n      ccf:image_file [\n        ccf:file_format ?format ;\n        ccf:file_url ?image_url\n      ] .\n    BIND(IRI(REPLACE(STR(?ftu_illustration), \"#primary\", \"\")) as ?ftu_digital_object)\n    \n    ?ftu_part_iri rdfs:label ?ftu_part_label .\n    ?ftu_iri rdfs:label ?ftu_label .\n    ?organ_iri rdfs:label ?organ_label .\n\n    BIND(IRI(REPLACE(STR(?organ_iri), STR(UBERON:), 'UBERON:')) as ?organ_id)\n    FILTER(?format = \"image/png\") # or \"image/svg+xml\"\n    FILTER(STRSTARTS(STR(?ftu_iri), STR(obo:)))\n    FILTER(STRSTARTS(STR(?ftu_part_iri), STR(obo:)))\n  }\n\n  # The FTU is part of an organ either directly or through other AS\n  ?parent_as ccf:ccf_part_of|part_of: ?organ_iri .\n  ?ftu_iri ccf:ccf_part_of|part_of:* ?parent_as .\n\n  # An FTU Part (Cell or AS) is connected to an FTU either directly or through other AS\n  ?ftu_part_iri ccf:ccf_located_in|ccf:ccf_part_of|overlaps:|part_of:+ ?ftu_iri .\n\n  OPTIONAL {\n    ?other_as ccf:ccf_part_of|part_of: ?organ_iri .\n    ?ftu_part_iri ccf:ccf_located_in|ccf:ccf_part_of|overlaps:|part_of:+ ?other_as .\n    FILTER(?other_as != ?organ_iri && ?other_as != ?ftu_iri && ?other_as != ?parent_as)\n  }\n  FILTER(!BOUND(?other_as))\n}\nORDER BY ?ftu_digital_object\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get 2D FTU images and parts that are unique to the ftu (via ASCT+B and OBO relationships)",
        "tags": []
      }
    },
    "/hra/all-digital-objects": {
      "get": {
        "description": "\n\n```\n#+ summary: Every digital object pushed to lod.humanatlas.io\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX schema: <http://schema.org/>\nPREFIX LOD: <https://lod.humanatlas.io>\n\nSELECT *\nFROM LOD:\nWHERE {\n  [] a dcat:Dataset ;\n    schema:name ?name ;\n    schema:additionalType ?type ;\n    schema:version ?version ;\n    schema:dateCreated ?published ;\n    rdfs:seeAlso ?purl ;\n  .\n}\nORDER BY ?type ?name ?version\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Every digital object pushed to lod.humanatlas.io",
        "tags": []
      }
    },
    "/hra/as-3d-cnt": {
      "get": {
        "description": "Count of 3D Anatomical Structures\n\n```\n#+ summary: Count of 3D Anatomical Structures\n#+ description: Count of 3D Anatomical Structures\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT (COUNT(?as3d) as ?as_count)\nFROM HRA:\nWHERE {\n  SELECT DISTINCT ?as3d WHERE {\n    ?as3d ccf:has_reference_organ ?y .\n    FILTER(!CONTAINS(STR(?y), '/united-'))\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Count of 3D Anatomical Structures",
        "tags": []
      }
    },
    "/hra/as-3d-counts": {
      "get": {
        "description": "Count of 3D Anatomical Structures\n\n```\n#+ summary: Count of 3D Anatomical Structures\n#+ description: Count of 3D Anatomical Structures\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT ?label ?count\nFROM HRA:\nWHERE {\n  {\n    SELECT (\"3D reference organs (no united)\" as ?label)\n      (COUNT(DISTINCT(?ref_organ)) as ?count)\n    WHERE {\n      ?ref_organ ccf:has_reference_organ ?ref_organ .\n      FILTER(!CONTAINS(STR(?ref_organ), '/ref-organ/united-'))\n    }\n  }\n  UNION\n  {\n    SELECT (\"3D anatomical structures (no united)\" as ?label)\n      (COUNT(DISTINCT(?as3d)) as ?count)\n    WHERE {\n      ?as3d ccf:has_reference_organ ?y .\n      FILTER(!CONTAINS(STR(?y), '/ref-organ/united-'))\n    }\n  }\n  UNION\n  {\n    SELECT (\"3D anatomical structures (no united and no reference organ AS)\" as ?label)\n      (COUNT(DISTINCT(?as3d)) as ?count)\n    WHERE {\n      ?as3d ccf:has_reference_organ ?y .\n      FILTER(?as3d != ?y && !CONTAINS(STR(?y), '/ref-organ/united-'))\n    }\n  }\n}\nORDER BY ?label\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Count of 3D Anatomical Structures",
        "tags": []
      }
    },
    "/hra/as-ct-b-counts": {
      "get": {
        "description": "\n\n```\n#+ summary: Unique AS, CT, and B in HRA\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT ?asctb_type (COUNT(DISTINCT(?iri)) as ?count)\nFROM HRA:\nWHERE {\n  ?iri ccf:ccf_asctb_type ?asctb_type\n}\nGROUP BY ?asctb_type\nORDER BY ?asctb_type\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Unique AS, CT, and B in HRA",
        "tags": []
      }
    },
    "/hra/as-ct-b-counts-all-versions": {
      "get": {
        "description": "\n\n```\n#+ summary: Unique AS, CT, and B across all HRA versions\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT ?asctb_type (COUNT(DISTINCT(?iri)) as ?count)\nWHERE {\n  ?iri ccf:ccf_asctb_type ?asctb_type\n}\nGROUP BY ?asctb_type\nORDER BY ?asctb_type\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Unique AS, CT, and B across all HRA versions",
        "tags": []
      }
    },
    "/hra/as-ct-b-trios-by-location": {
      "get": {
        "description": "Enter an anatomical structure IRI, get back a list of AS, CT, and Biomarker trios for structures part of it\n\n```\n#+ summary: AS, CT, and Biomarker trios by AS located in a given anatomical structure\n#+ description: Enter an anatomical structure IRI, get back a list of AS, CT, and Biomarker trios for structures part of it\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT DISTINCT ?as_label ?ct_label ?biomarker_label ?as ?ct ?biomarker\nFROM HRA:\nWHERE {\n  # VALUES (?_location_iri) {\n  #   (<http://purl.obolibrary.org/obo/UBERON_0002113>)\n  # }\n\n  # Get AS of interest\n  ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n  ?as rdfs:label ?as_label .\n\n  # Lookup CT + B for the AS via ASCT+B tables\n  # [] a ccf:AsctbRecord ;\n  #   ccf:anatomical_structure [\n  #     ccf:source_concept ?as \n  #   ];\n  #   ccf:cell_type [\n  #     ccf:source_concept ?ct \n  #   ];\n  #   ccf:biomarker_marker [\n  #     ccf:source_concept ?biomarker \n  #   ] .\n\n  # Alternative that only looks up CT+B specifically assigned to that AS, does not include children\n  [] a ccf:CellMarkerDescriptor ;\n    ccf:primary_anatomical_structure ?as ;\n    ccf:primary_cell_type ?ct ;\n    ccf:biomarker ?biomarker .\n\n  ?ct rdfs:label ?ct_label .\n  ?biomarker rdfs:label ?biomarker_label .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS, CT, and Biomarker trios by AS located in a given anatomical structure",
        "tags": []
      }
    },
    "/hra/as-ct-gene-trios-by-location": {
      "get": {
        "description": "Enter an anatomical structure IRI, get back a list of AS, CT, and Gene trios for structures part of it\n\n```\n#+ summary: AS, CT, and Gene trios by AS located in a given anatomical structure\n#+ description: Enter an anatomical structure IRI, get back a list of AS, CT, and Gene trios for structures part of it\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT DISTINCT ?as_label ?ct_label ?gene_symbol ?as ?ct ?gene\nFROM HRA:\nWHERE {\n  # Get AS of interest\n  ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n  ?as rdfs:label ?as_label .\n\n  # Lookup CT + B for the AS via ASCT+B tables\n  [] a ccf:AsctbRecord ;\n    ccf:anatomical_structure [\n      ccf:source_concept ?as \n    ];\n    ccf:cell_type [\n      ccf:source_concept ?ct \n    ];\n    ccf:gene_marker [\n      ccf:source_concept ?gene \n    ] .\n\n  # Alternative that only looks up CT+B specifically assigned to that AS, does not include children\n  # [] a ccf:CellMarkerDescriptor ;\n  #   ccf:primary_anatomical_structure ?as ;\n  #   ccf:primary_cell_type ?ct ;\n  #   ccf:biomarker ?gene .\n\n  ?ct rdfs:label ?ct_label .\n  ?gene rdfs:label ?gene_symbol .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS, CT, and Gene trios by AS located in a given anatomical structure",
        "tags": []
      }
    },
    "/hra/as-ct-protein-trios-by-location": {
      "get": {
        "description": "Enter an anatomical structure IRI, get back a list of AS, CT, and Protein trios for structures part of it\n\n```\n#+ summary: AS, CT, and Protein trios by AS located in a given anatomical structure\n#+ description: Enter an anatomical structure IRI, get back a list of AS, CT, and Protein trios for structures part of it\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT DISTINCT ?as_label ?ct_label ?protein_label ?as ?ct ?protein\nFROM HRA:\nWHERE {\n  # VALUES (?_location_iri) {\n  #   (<http://purl.obolibrary.org/obo/UBERON_0002113>)\n  # }\n\n  # Get AS of interest\n  ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n  ?as rdfs:label ?as_label .\n\n  # Lookup CT + B for the AS via ASCT+B tables\n  [] a ccf:AsctbRecord ;\n    ccf:anatomical_structure [\n      ccf:source_concept ?as \n    ];\n    ccf:cell_type [\n      ccf:source_concept ?ct \n    ];\n    ccf:protein_marker [\n      ccf:source_concept ?protein \n    ] .\n\n  # Alternative that only looks up CT+B specifically assigned to that AS, does not include children\n  # [] a ccf:CellMarkerDescriptor ;\n  #   ccf:primary_anatomical_structure ?as ;\n  #   ccf:primary_cell_type ?ct ;\n  #   ccf:biomarker ?protein .\n\n  ?ct rdfs:label ?ct_label .\n  ?protein rdfs:label ?protein_label .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS, CT, and Protein trios by AS located in a given anatomical structure",
        "tags": []
      }
    },
    "/hra/as-parts": {
      "get": {
        "description": "All anatomical structures part of a given anatomical structure, including itself\n\n```\n#+ summary: All AS part of a given AS\n#+ description: All anatomical structures part of a given anatomical structure, including itself\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <https://purl.humanatlas.io/vocab/uberon>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?part_iri ?part_label\nFROM UBERON:\nFROM HRA:\nWHERE {\n  ?part_iri ccf:ccf_part_of*|part_of:* ?_location_iri .\n  ?part_iri rdfs:label ?part_label .\n}\nORDER BY ?part_iri\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All AS part of a given AS",
        "tags": []
      }
    },
    "/hra/as-per-organ": {
      "get": {
        "description": "Number of Anatomical Structures per Reference Organ\n\n```\n#+ summary: AS per Ref. Organ\n#+ description: Number of Anatomical Structures per Reference Organ\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT\n  ?organ\n  ?sex\n  (COUNT(?structure) AS ?as_count)\n  (SAMPLE(?uberon_id) as ?uberon_id)\n  (REPLACE(STR(?refOrgan), '#primary', '') as ?url)\nFROM HRA:\nWHERE {\n  ?structure ccf:has_reference_organ ?refOrgan .\n  ?refOrgan ccf:representation_of ?organIri ;\n    ccf:organ_owner_sex ?sex .\n  \n  ?organIri ccf:ccf_pref_label ?organ_label .\n\n  BIND(LCASE(?organ_label) as ?organ)\n  BIND(REPLACE(REPLACE(STR(?organIri), STR(UBERON:), 'UBERON:'), STR(FMA:), 'FMA:') as ?uberon_id)\n}\nGROUP BY ?refOrgan ?organ ?sex\nORDER BY ?organ ?sex\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS per Ref. Organ",
        "tags": []
      }
    },
    "/hra/asctb-in-table": {
      "get": {
        "description": "\n\n```\n#+ summary: AS, CT, and BM in a given ASCT+B Table\n\n#+ defaults:\n#+   - asctb: https://purl.humanatlas.io/asct-b/lymph-node\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?as_label ?ct_label ?bm_label ?as ?ct ?bm ?bmType\nWHERE {\n  GRAPH ?_asctb_iri {\n    ?ct ccf:ccf_located_in ?as . # Get cell types located in an anatomical structure\n\n    # Find all sets of biomarkers that characterize a cell type\n    ?ct rdfs:subClassOf [\n      owl:onProperty has_characterizing_biomarker_set: ;\n      owl:someValuesFrom [ owl:intersectionOf ?bmSetId ]] .\n    ?bmSetId rdf:rest*/rdf:first [\n      owl:onProperty ccf:has_marker_component ;\n      owl:someValuesFrom ?bm\n    ] .\n\n    # Get biomarker type\n    ?bm ccf:ccf_biomarker_type ?bmType .\n\n    ?as ccf:ccf_pref_label ?as_label .\n    ?ct ccf:ccf_pref_label ?ct_label .\n    ?bm ccf:ccf_pref_label ?bm_label .\n  }\n}\nORDER BY ?as_label\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_asctb_iri in the original query",
            "in": "query",
            "name": "asctb",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "https://purl.humanatlas.io/asct-b/lymph-node"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS, CT, and BM in a given ASCT+B Table",
        "tags": []
      }
    },
    "/hra/bm-located-in-as": {
      "get": {
        "description": "\n\n```\n#+ summary: Biomarkers located in AS\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?as ?bm\nFROM HRA:\nWHERE {\n  ?ct ccf:ccf_located_in ?as .\n\n  ?ct rdfs:subClassOf [\n  \towl:onProperty has_characterizing_biomarker_set: ;\n  \towl:someValuesFrom [ owl:intersectionOf ?bn3 ]] .\n  ?bn3 rdf:rest*/rdf:first [\n  \towl:onProperty ccf:has_marker_component ;\n    owl:someValuesFrom ?bm\n  ] .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Biomarkers located in AS",
        "tags": []
      }
    },
    "/hra/digital-object-authors": {
      "get": {
        "description": "\n\n```\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX schema: <http://schema.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX dcterms: <http://purl.org/dc/terms/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT DISTINCT ?orcid ?author_name ?role ?date ?do_type (COUNT(DISTINCT ?purl) as ?do_count_on_date)\nFROM <https://lod.humanatlas.io>\nWHERE {\n  \tVALUES (?role_pred ?role) {\n  \t\t(ccf:project_lead 'Project Lead')\n      (dcterms:creator 'Author')\n      (schema:reviewedBy 'Reviewer')\n\t  }\n \n    [] a dcat:Dataset ;\n      schema:additionalType ?do_type ;\n      rdfs:seeAlso ?purl ;\n      prov:wasDerivedFrom ?rawData .\n    \n    ?rawData schema:dateCreated ?creation_date ;\n      ?role_pred ?orcid .\n\n    { \n      SELECT ?orcid (SAMPLE(?author_name) as ?author_name)\n      WHERE {\n        ?orcid a schema:Person ;\n          schema:name ?author_name\n      }\n      GROUP BY ?orcid\n    }\n\n    BIND(STRDT(\n        IF(CONTAINS(?creation_date, '/'),\n          CONCAT(SUBSTR(?creation_date, 6, 4), '-0', REPLACE(SUBSTR(?creation_date, 1, 4), '/', '-')),\n          STR(?creation_date)\n        ), xsd:date) as ?date)\n}\nGROUP BY ?orcid ?author_name ?role ?do_type ?date\nORDER BY ?orcid\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/hra/digital-object-bibliographies": {
      "get": {
        "description": "\n\n```\n#+ summary: All unique bibliography entries in DOs\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX dct: <http://purl.org/dc/terms/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX schema: <http://schema.org/>\nPREFIX LOD: <https://lod.humanatlas.io>\n\nSELECT DISTINCT ?ref\nFROM LOD:\nWHERE {\n  [] a dcat:Dataset ; dct:description ?description .\n  BIND(REPLACE(STRAFTER(?description, 'Bibliography:**'), \"^\\\\s+|\\\\s+$\", \"\") as ?ref)\n  FILTER(?ref != \"\")\n}\nORDER BY ?ref\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All unique bibliography entries in DOs",
        "tags": []
      }
    },
    "/hra/digital-object-citations": {
      "get": {
        "description": "\n\n```\n#+ summary: Every digital object and their citations\n\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX schema: <http://schema.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?purl ?type ?name ?version ?published ?citation ?citation_overall\nFROM <https://lod.humanatlas.io>\nWHERE {\n  [] a dcat:Dataset ;\n  \t\tschema:name ?name ;\n  \t\tschema:additionalType ?type ;\n      schema:version ?version ;\n      schema:dateCreated ?published ;\n      rdfs:seeAlso ?purl ;\n      prov:wasDerivedFrom ?rawData .\n\n  ?rawData ccf:doi ?doi .\n  OPTIONAL {\n    ?rawData schema:citation ?citation .\n  }\n  OPTIONAL {\n    ?rawData ccf:citation_overall ?citation_overall .\n  }\n}\nORDER BY ?type ?name ?version\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Every digital object and their citations",
        "tags": []
      }
    },
    "/hra/digital-object-count": {
      "get": {
        "description": "\n\n```\n#+ summary: Digital objects counts in the latest HRA release\n\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT ?type (COUNT(DISTINCT(?digitalObject)) as ?count)\nFROM HRA:\nWHERE {\n  HRA: prov:hadMember ?digitalObject .\n  BIND(STRBEFORE(REPLACE(STR(?digitalObject), 'https://purl.humanatlas.io/', ''), '/') as ?type)\n}\nGROUP BY ?type\nORDER BY ?type\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Digital objects counts in the latest HRA release",
        "tags": []
      }
    },
    "/hra/digital-object-references": {
      "get": {
        "description": "\n\n```\n#+ summary: All unique references in DOs\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX dct: <http://purl.org/dc/terms/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX schema: <http://schema.org/>\nPREFIX LOD: <https://lod.humanatlas.io>\n\nSELECT DISTINCT ?ref\nFROM LOD:\nWHERE {\n  [] a dcat:Dataset ; dct:references ?ref .\n}\nORDER BY ?ref\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All unique references in DOs",
        "tags": []
      }
    },
    "/hra/ensembl-ids": {
      "get": {
        "description": "\n\n```\n#+ summary: ensembl ids in HRA\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX dbxref: <http://www.geneontology.org/formats/oboInOwl#hasDbXref>\nPREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?gene_symbol ?hgnc_id ?ensembl_id\nFROM HRA:\nWHERE {\n  ?gene dbxref: ?ensembl_id ;\n        oboInOwl:id ?hgnc_id ;\n        rdfs:label ?gene_symbol .\n  FILTER(STRSTARTS(?ensembl_id, 'ENSG'))\n}\nORDER BY ?gene_symbol\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "ensembl ids in HRA",
        "tags": []
      }
    },
    "/hra/ensembl-lookup": {
      "get": {
        "description": "\n\n```\n#+ summary: A lookup table from Ensembl ID to gene name and HGNC ID\n\nPREFIX hgnc: <http://purl.bioontology.org/ontology/HGNC/>\nPREFIX hgncId: <http://identifiers.org/hgnc/>\nPREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>\nPREFIX HGNC: <https://purl.humanatlas.io/vocab/hgnc>\n\nSELECT DISTINCT ?ensemble ?gene_name ?hgnc\nFROM HGNC:\nWHERE\n{\n  ?hgnc_id oboInOwl:hasDbXref ?ensemble ;\n          hgnc:symbol ?gene_name .\n  BIND(REPLACE(STR(?hgnc_id), STR(hgncId:), 'HGNC:') as ?hgnc)\n  FILTER(STRSTARTS(?ensemble, 'ENS'))\n}\nORDER BY ?ensemble\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "A lookup table from Ensembl ID to gene name and HGNC ID",
        "tags": []
      }
    },
    "/hra/fma-uberon-crosswalk": {
      "get": {
        "description": "\n\n```\nPREFIX fma: <http://purl.org/sig/ont/fma/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX uberon: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX xref: <http://www.geneontology.org/formats/oboInOwl#hasDbXref>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?fma_iri ?fma_id ?uberon\nFROM HRA:\nWHERE {\n  GRAPH <https://purl.humanatlas.io/vocab/fma> {\n    ?fma_iri fma:FMAID ?fmaNumber .\n    BIND(CONCAT('FMA:', ?fmaNumber) as ?fma_id)\n  }\n  {\n    ?uberon xref: ?fma_id .\n    FILTER(STRSTARTS(STR(?fma_id), 'FMA:'))\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/hra/ftu-parts": {
      "get": {
        "description": "\n\n```\n#+ summary: get FTU images and parts\n\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX schema: <http://schema.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX LOD: <https://lod.humanatlas.io>\n\nSELECT DISTINCT ?ftu_digital_object ?ftu_digital_object_doi ?image_url ?organ_iri ?ftu_iri ?ftu_part_iri\nFROM HRA:\nWHERE {\n  ?ftu_illustration a ccf:FtuIllustration ;\n  \ta ?ftu_iri ;\n  \tccf:ccf_located_in ?organ_id ;\n    ccf:illustration_node [ a ?ftu_part_iri ] ;\n    ccf:image_file [\n      ccf:file_format ?format ;\n      ccf:file_url ?image_url\n    ] .\n\n  HRA: prov:hadMember ?versioned_ftu .\n\n   GRAPH LOD: {\n    [] prov:wasDerivedFrom [\n        ccf:doi ?ftu_digital_object_doi\n      ] ;\n      rdfs:seeAlso ?versioned_ftu .\n  }\n\n  BIND(IRI(REPLACE(?organ_id, 'UBERON:', STR(UBERON:))) as ?organ_iri)\n  BIND(IRI(REPLACE(STR(?ftu_illustration), \"#primary\", \"\")) as ?ftu_digital_object)\n  \n  FILTER(?format = \"image/png\") # or \"image/svg+xml\"\n  FILTER(STRSTARTS(STR(?ftu_iri), STR(obo:)))\n  FILTER(STRSTARTS(STR(?ftu_part_iri), STR(obo:)))\n  FILTER(STRSTARTS(STR(?versioned_ftu), STR(?ftu_digital_object)))\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get FTU images and parts",
        "tags": []
      }
    },
    "/hra/high-level-stats": {
      "get": {
        "description": "\n\n```\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT ?label ?count\nFROM HRA:\nWHERE {\n  {\n    SELECT (\"# Nodes\" as ?label) (COUNT(DISTINCT(?s)) as ?count)\n    WHERE {\n      {\n        ?s ?p1 [] .\n      }\n      UNION\n      {\n        [] ?p2 ?s .\n        FILTER(isIRI(?s)) \n      }\n    }\n  }\n  UNION\n  {\n    SELECT (\"# Edges\" as ?label) (COUNT(*) as ?count)\n    WHERE {\n      ?s ?p ?o .\n    }\n  }\n  UNION\n  {\n    SELECT (\"# Edge Types\" as ?label) (COUNT(DISTINCT(?p)) as ?count)\n    WHERE {\n      ?s ?p ?o .\n    }\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/hra/hpo-term-overlaps": {
      "get": {
        "description": "\n\n```\n#+ summary: HRA-HPO shared Uberon and CL terms\n\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX schema: <http://schema.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX HPO: <https://purl.humanatlas.io/vocab/hp>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?term ?term_label\nWHERE {\n  GRAPH HRA: {\n    ?term rdfs:label ?term_label .\n  }\n  GRAPH HPO: {\n    ?term rdfs:label ?term_label .\n  }\n  FILTER(STRSTARTS(STR(?term), STR(UBERON:)) || STRSTARTS(STR(?term), STR(CL:)))\n}\nORDER BY ?term\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "HRA-HPO shared Uberon and CL terms",
        "tags": []
      }
    },
    "/hra/kg-asctb-temp": {
      "get": {
        "description": "Number of ASCTB-TEMP IDs in ASCT+B tables\n\n```\n#+ summary: ASCT+B TEMP IDs in HRA\n#+ description: Number of ASCTB-TEMP IDs in ASCT+B tables\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX ASCTB-TEMP: <https://purl.org/ccf/ASCTB-TEMP_>\n\nSELECT ?asctb_type (COUNT(DISTINCT(?iri)) as ?count)\nFROM HRA:\nWHERE {\n  ?iri ccf:ccf_asctb_type ?asctb_type1 .\n  OPTIONAL {\n  \t?iri ccf:ccf_biomarker_type ?bm_type . \n  }\n  BIND(IF(BOUND(?bm_type), CONCAT(\"BM (\", ?bm_type, \")\"), STR(?asctb_type1)) AS ?asctb_type)\n  FILTER(STRSTARTS(STR(?iri), STR(ASCTB-TEMP:)))\n}\nGROUP BY ?asctb_type\nORDER BY DESC(?count)\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "ASCT+B TEMP IDs in HRA",
        "tags": []
      }
    },
    "/hra/kg-digital-object-count": {
      "get": {
        "description": "\n\n```\n#+ summary: All digital objects published to the HRA KG\n\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX schema: <http://schema.org/>\n\nSELECT (COUNT(DISTINCT(?purl)) as ?do_count)\nFROM <https://lod.humanatlas.io>\nWHERE {\n  [] a dcat:Dataset ;\n    schema:name ?name ;\n    rdfs:seeAlso ?purl ;\n    schema:additionalType ?type .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All digital objects published to the HRA KG",
        "tags": []
      }
    },
    "/hra/ref-organ-dois": {
      "get": {
        "description": "\n\n```\n#+ summary: ref-organ-dois in HRA v2.2\n\nPREFIX dcat: <http://www.w3.org/ns/dcat#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX schema: <http://schema.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT ?Organ ?Sex ?DOI ?DigitalObject\nFROM <https://lod.humanatlas.io>\nWHERE {\n  {\n    SELECT DISTINCT ?DigitalObject\n    WHERE {\n      [] a dcat:Dataset ;\n          schema:name ?hraName ;\n          schema:additionalType ?hraType ;\n          schema:version ?hraVersion ;\n          rdfs:seeAlso ?hraPurl ;\n          prov:hadMember ?digitalObjectStr .\n\n      FILTER(?hraType = 'collection' && ?hraName = 'hra' && ?hraVersion = 'v2.2')\n      FILTER(CONTAINS(STR(?digitalObjectStr), '/ref-organ/'))\n      BIND(IRI(STR(?digitalObjectStr)) as ?DigitalObject)\n    }\n  }\n  \n  {\n    [] a dcat:Dataset ;\n  \t\tschema:name ?name ;\n  \t\tschema:additionalType ?type ;\n      schema:version ?version ;\n      schema:dateCreated ?published ;\n      rdfs:seeAlso ?DigitalObject ;\n      prov:wasDerivedFrom ?rawData .\n\n    ?rawData ccf:doi ?DOI .\n    BIND(IF(CONTAINS(?name, 'female'), 'F', 'M') as ?Sex)\n    BIND(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(?name, '-female', ''), '-male', ''), '-', ' '), 'left', '(left)'), 'right', '(right)') as ?Organ)\n    FILTER(!CONTAINS(?name, '-crosswalk') && !CONTAINS(?name, 'united-'))\n  }\n}\nORDER BY ?Organ ?Sex\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "ref-organ-dois in HRA v2.2",
        "tags": []
      }
    },
    "/hra/ref-organ-glb-files": {
      "get": {
        "description": "Reference Organ GLB information\n\n```\n#+ summary: Reference Organ GLB information\n#+ description: Reference Organ GLB information\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT (STR(?refOrgan) as ?ref_organ) ?glb_url ?scene_node\nFROM HRA:\nWHERE {\n  ?refOrgan ccf:has_reference_organ ?refOrgan .\n  ?refOrgan ccf:has_object_reference [\n  \tccf:file_url ?glb_url ;\n    ccf:file_subpath ?scene_node  \n  ] .\n}\nORDER BY ?ref_organ\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Reference Organ GLB information",
        "tags": []
      }
    },
    "/hra/ref-organ-parts": {
      "get": {
        "description": "Reference Organ GLB information\n\n```\n#+ summary: Reference Organ GLB information\n#+ description: Reference Organ GLB information\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\n\nSELECT DISTINCT ?ref_organ_digital_object ?glb_url ?scene_node ?as_label ?as_iri  \nFROM HRA:\nWHERE {\n  ?refOrganPart ccf:has_reference_organ ?refOrgan ;\n      ccf:representation_of ?as_iri .\n  ?refOrganPart ccf:has_object_reference [\n    ccf:file_url ?glb_url ;\n    ccf:file_subpath ?scene_node  \n  ] .\n  ?as_iri rdfs:label ?as_label .\n  BIND(IRI(STRBEFORE(REPLACE(STR(?refOrgan), \"#primary\", \"\"), '/v1.')) as ?ref_organ_digital_object)\n  FILTER(!CONTAINS(STR(?refOrgan), '/ref-organ/united'))\n}\nORDER BY ?ref_organ_digital_object ?as_label\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Reference Organ GLB information",
        "tags": []
      }
    },
    "/hra/unmapped-asctb-term-list": {
      "get": {
        "description": "\n\n```\n#+ summary: A list of unmapped AS, CT, and B terms in HRA\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ASCTB-TEMP: <https://purl.org/ccf/ASCTB-TEMP_>\n\nSELECT DISTINCT ?table ?asctb_type ?iri\nWHERE {\n  GRAPH ?table {\n    ?iri ccf:ccf_asctb_type ?asctb_type .\n    FILTER(STRSTARTS(STR(?iri), STR(ASCTB-TEMP:)))\n  }\n  FILTER (STRSTARTS(STR(?table), 'https://purl.humanatlas.io/asct-b'))\n}\nORDER BY ?table ?asctb_type ?iri\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "A list of unmapped AS, CT, and B terms in HRA",
        "tags": []
      }
    },
    "/hra/unmapped-asctb-terms": {
      "get": {
        "description": "\n\n```\n#+ summary: Unmapped AS, CT, and B in HRA\n#+ endpoint: https://lod.humanatlas.io/sparql\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX ASCTB-TEMP: <https://purl.org/ccf/ASCTB-TEMP_>\n\nSELECT ?asctb_type (COUNT(DISTINCT(?iri)) as ?count)\nFROM HRA:\nWHERE {\n  ?iri ccf:ccf_asctb_type ?asctb_type\n  FILTER(STRSTARTS(STR(?iri), STR(ASCTB-TEMP:)))\n}\nGROUP BY ?asctb_type\nORDER BY ?asctb_type\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Unmapped AS, CT, and B in HRA",
        "tags": []
      }
    },
    "/hra-pop/all-collisions": {
      "get": {
        "description": "\n\n```\n#+ summary: All extraction site collisions in HRApop\n\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?extraction_site_iri ?representation_of (xsd:decimal(?percentage) as ?percentage_of_tissue_block)\nFROM HRApop:\nWHERE {\n  ?extraction_site_iri a ccf:SpatialEntity ;\n    ccf:has_collision_summary [\n      ccf:has_collision_item [\n        ccf:as_id ?representation_of ;\n        ccf:percentage_of_total ?percentage ;\n      ]\n    ]\n}\nORDER BY ?extraction_site_iri DESC(?percentage)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All extraction site collisions in HRApop",
        "tags": []
      }
    },
    "/hra-pop/as-count": {
      "get": {
        "description": "\n\n```\n#+ summary: Number of Anatomical Structures with Cell Summaries\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT (COUNT(DISTINCT ?as) as ?as_count)\nFROM HRApop:\nWHERE {\n  {\n  \t?as ccf:has_cell_summary [ ] .\n    FILTER(?as != ccf:)\n  } MINUS {\n    ?as a ccf:SpatialEntity .\n  } MINUS {\n    ?as a ccf:Dataset .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Number of Anatomical Structures with Cell Summaries",
        "tags": []
      }
    },
    "/hra-pop/as-ct-b-experimental-trios-by-dataset-by-location": {
      "get": {
        "description": "Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n```\n#+ summary: Cell Summaries with Biomarker information by Dataset\n#+ description: Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT\n  ?as_label\n  ?ct_label\n  ?biomarker_label\n  ?as\n  ?ct\n  ?biomarker\n  ?cell_count \n  (?mean_gene_expr_value as ?gene_expr)\n  ?dataset\n  ?tool\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    SELECT DISTINCT ?rui_location ?as_label ?as\n    WHERE {\n      ?rui_location ccf:has_collision_summary [\n        ccf:has_collision_item [\n          ccf:as_id ?as ;\n        ]\n      ] .\n      ?as rdfs:label ?as_label .\n\n      FILTER EXISTS {\n        # VALUES (?_location_iri) {\n        #   (<http://purl.obolibrary.org/obo/UBERON_0002113>)\n        # }\n        ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n      }\n    }\n  }\n\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n  \n  ?dataset ccf:has_cell_summary [\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?ct ;\n      ccf:cell_label ?raw_cell_label ;\n      ccf:cell_count ?cell_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n        ccf:gene_id ?biomarkerId ;\n        ccf:mean_gene_expr_value ?mean_gene_expr_value ;\n      ]\n    ]\n  ] .\n\n  OPTIONAL { ?ct rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?ct_label)\n  BIND(IRI(REPLACE(REPLACE(REPLACE(STR(?biomarkerId), \n      'HGNC:', 'http://identifiers.org/hgnc/'), \n      'ASCTB-TEMP:', 'https://purl.org/ccf/ASCTB-TEMP_'),\n      'ensembl:', 'https://identifiers.org/ensembl:')\n    ) as ?biomarker)\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries with Biomarker information by Dataset",
        "tags": []
      }
    },
    "/hra-pop/as-ct-b-experimental-trios-by-location": {
      "get": {
        "description": "Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n```\n#+ summary: Cell Summaries with Biomarker information by Dataset\n#+ description: Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT \n  (SAMPLE(?as_label) AS ?as_label)\n  (SAMPLE(?ct_label) AS ?ct_label)\n  (SAMPLE(?biomarker_label) AS ?biomarker_label)\n  ?as\n  ?ct\n  ?biomarker\n  (SUM(?cell_count) AS ?cell_count)\n  (AVG(?mean_gene_expr_value) AS ?gene_expr)\n  ?tool\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    SELECT DISTINCT ?rui_location ?as_label ?as\n    WHERE {\n      ?rui_location ccf:has_collision_summary [\n        ccf:has_collision_item [\n          ccf:as_id ?as ;\n        ]\n      ] .\n      ?as rdfs:label ?as_label .\n\n      FILTER EXISTS {\n        # VALUES (?_location_iri) {\n        #   (<http://purl.obolibrary.org/obo/UBERON_0002113>)\n        # }\n        ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n      }\n    }\n  }\n\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n  \n  ?dataset ccf:has_cell_summary [\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?ct ;\n      ccf:cell_label ?raw_cell_label ;\n      ccf:cell_count ?cell_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n        ccf:gene_id ?biomarkerId ;\n        ccf:mean_gene_expr_value ?mean_gene_expr_value ;\n      ]\n    ]\n  ] .\n\n  OPTIONAL { ?ct rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?ct_label)\n  BIND(IRI(REPLACE(REPLACE(REPLACE(STR(?biomarkerId), \n      'HGNC:', 'http://identifiers.org/hgnc/'), \n      'ASCTB-TEMP:', 'https://purl.org/ccf/ASCTB-TEMP_'),\n      'ensembl:', 'https://identifiers.org/ensembl:')\n    ) as ?biomarker)\n}\nGROUP BY ?tool ?as ?ct ?biomarker\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries with Biomarker information by Dataset",
        "tags": []
      }
    },
    "/hra-pop/biomarkers-in-atlas": {
      "get": {
        "description": "\n\n```\n#+ summary: All biomarkers seen in Atlas Datasets\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?biomarker_label\nFROM HRApop:\nWHERE {\n  [] ccf:generates_dataset ?dataset .\n  ?dataset ccf:has_cell_summary [\n    ccf:has_cell_summary_row [\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n      ]\n    ]\n  ] .\n}\nORDER BY ?biomarker_label\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All biomarkers seen in Atlas Datasets",
        "tags": []
      }
    },
    "/hra-pop/cell-specific-stats": {
      "get": {
        "description": "\n\n```\n#+ summary: Cell-specific stats for HRApop data\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT\n  ?ct_parent_label\n  ?organ_label\n  ?sex\n  ?side\n  ?tool\n\n  (COUNT(DISTINCT ?donor) as ?donor_count)\n  (COUNT(DISTINCT ?dataset) as ?dataset_count)\n  (COUNT(DISTINCT ?as) as ?as_count)\n  (COUNT(DISTINCT ?ct) as ?ct_count)\n  (SUM(?cell_count) as ?cell_count)\nFROM HRA:\nFROM HRApop:\nWHERE {\n  hint:Query hint:analytic \"true\" .\n\n  {\n    SELECT DISTINCT ?ct ?ct_parent ?ct_parent_label\n    WHERE {\n      GRAPH <https://purl.humanatlas.io/vocab/cl/redundant> {\n        VALUES (?ct_parent) {\n          (<http://purl.obolibrary.org/obo/CL_0000066>) # epithelial cell\n          (<http://purl.obolibrary.org/obo/CL_0000115>) # endothelial cell\n          (<http://purl.obolibrary.org/obo/CL_2000032>) # peripheral nervous system neuron AKA peripheral neuron\n          (<http://purl.obolibrary.org/obo/CL_0000136>) # adipocyte\n          (<http://purl.obolibrary.org/obo/CL_0000057>) # fibroblast\n          (<http://purl.obolibrary.org/obo/CL_0000192>) # smooth muscle cell\n          (<http://purl.obolibrary.org/obo/CL_0000738>) # leukocyte AKA immune cell \n        }\n        ?ct rdfs:subClassOf ?ct_parent .\n        FILTER(STRSTARTS(STR(?ct), \"http://purl.obolibrary.org/obo/CL_\"))\n      }\n      GRAPH <https://purl.humanatlas.io/vocab/cl> {\n        ?ct_parent rdfs:label ?ct_parent_label .\n      }\n      hint:SubQuery hint:runOnce true .\n    }\n  }\n\n  {\n    SELECT DISTINCT ?organ_label ?organ_id ?sex ?side ?donor ?dataset ?as\n    WHERE {\n      {\n        ?sample ccf:comes_from ?donor .\n        ?sample ccf:has_registration_location ?rui_location .\n        ?sample ccf:generates_dataset ?dataset .\n      } UNION {\n        ?block ccf:comes_from ?donor .\n        ?block ccf:subdivided_into_sections ?sample .\n        ?block ccf:has_registration_location ?rui_location .\n        ?sample ccf:generates_dataset ?dataset .\n      }\n      ?rui_location ccf:has_collision_summary [\n        ccf:has_collision_item [\n          ccf:as_id ?as ;\n        ]\n      ] .\n\n      ?refOrgan owl:sameAs* [\n        ccf:representation_of ?organ_id ;\n        ccf:organ_owner_sex ?sex ;\n      ] .\n      OPTIONAL {\n        ?refOrgan owl:sameAs* [\n          ccf:organ_side ?side ;\n        ] .\n      }\n      ?organ_id skos:prefLabel ?organ_pref_label .\n      BIND(LCASE(REPLACE(REPLACE(?organ_pref_label, 'respiratory system', 'lung'), 'skin of body', 'skin')) as ?organ_label)\n      # ?organ_id rdfs:label ?organ_label .\n\n      [] a ccf:SpatialPlacement ;\n        ccf:placement_for ?rui_location ;\n        ccf:placement_relative_to ?refOrgan .\n      hint:SubQuery hint:runOnce true .\n    }\n  }\n\n  ?dataset ccf:has_cell_summary [\n    # ccf:cell_annotation_method \"sc_proteomics\"^^xsd:string ;\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?ct ;\n      ccf:cell_count ?cell_count ;\n    ]\n  ] .\n}\nGROUP BY ?ct_parent_label ?organ_label ?sex ?side ?tool\nORDER BY ?ct_parent_label ?organ_label ?tool DESC(?cell_count)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell-specific stats for HRApop data",
        "tags": []
      }
    },
    "/hra-pop/cell-types-in-atlas": {
      "get": {
        "description": "\n\n```\n#+ summary: All cell types seen in Atlas Datasets\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?cell_type_label ?cell_id\nFROM CCF:\nFROM HRApop:\nWHERE {\n  [] ccf:generates_dataset ?dataset .\n  ?dataset ccf:has_cell_summary [\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_label ?cell_type_label ;\n    ]\n  ] .\n}\nORDER BY ?cell_type_label\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "All cell types seen in Atlas Datasets",
        "tags": []
      }
    },
    "/hra-pop/cell-types-level-mapping": {
      "get": {
        "description": "\n\n```\n#+ summary: atlas cell type level mapping\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?cell_label ?cell_id ?level_1_cell_id ?level_1_cell_label\nFROM HRA:\nFROM <https://purl.humanatlas.io/vocab/cl>\nFROM <https://purl.humanatlas.io/vocab/pcl>\nWHERE {\n  # Select cell types to map\n  GRAPH HRApop: {\n    [] ccf:has_cell_summary [\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n      ]\n    ] .\n    FILTER(!STRSTARTS(STR(?cell_id), 'https://purl.org/ccf/ASCTB-TEMP'))\n  }\n  ?cell_id rdfs:label ?cell_label .\n  \n  # Match to upper level cell types\n  OPTIONAL {\n    # https://github.com/obophenotype/cell-ontology/blob/master/src/templates/general_cell_types_upper_slim.csv\n    VALUES (?l1_cell_id) {\n      (CL:0000540) # neuron\n      (CL:0000125) # glial cell\n      (CL:0000066) # epithelial cell\n      (CL:0000152) # exocrine cell\n      (CL:0000057) # fibroblast\n      (CL:0000235) # macrophage\n      (CL:0000084) # T cell\n      (CL:0000236) # B cell\n      (CL:0000623) # natural killer cell\n      (CL:0000451) # dendritic cell\n      (CL:0000192) # smooth muscle cell\n      (CL:0000746) # cardiac muscle cell\n      (CL:0000188) # cardiac muscle cell\n      (CL:0000163) # endocrine cell\n      (CL:0000148) # melanocyte\n      (CL:0009004) # retinal cell\n      (CL:0000349) # extraembryonic cell\n      (CL:0000081) # blood cell\n      (CL:0000576) # monocyte\n      (CL:0000039) # germ line cell\n      (CL:0000136) # fat cell\n      (CL:0000499) # stromal cell\n      (CL:0001035) # bone cell\n      (CL:0000034) # stem cell\n    }\n    ?cell_id (rdfs:subClassOf|rdf:type)* ?l1_cell_id .\n    ?l1_cell_id rdfs:label ?l1_cell_label .\n  }\n\n  BIND(COALESCE(?l1_cell_id, CL:0000000) as ?level_1_cell_id)\n  BIND(COALESCE(?l1_cell_label, 'unknown cell') as ?level_1_cell_label)\n}\nORDER BY ?cell_id\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "atlas cell type level mapping",
        "tags": []
      }
    },
    "/hra-pop/cell-types-per-dataset": {
      "get": {
        "description": "Computes the cell summaries for each organ by dataset.\n\n```\n#+ summary: Cell Summaries by Dataset\n#+ description: Computes the cell summaries for each organ by dataset.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ_id ?organ ?dataset ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage \nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?dataset ccf:has_cell_summary [ \n      ccf:cell_annotation_method ?tool ;\n      ccf:modality ?modality ;\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n        ccf:cell_label ?raw_cell_label ;\n        ccf:cell_count ?cell_count ;\n        ccf:percentage_of_total ?cell_percentage ;\n    ]\n  ] .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_relative_to ?refOrgan ;\n    ccf:placement_for ?rui_location .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n    ccf:organ_owner_sex ?sex ;\n    skos:prefLabel ?organ\n  ] .\n\n  ?organ_id rdfs:label ?organ_label .\n\n  OPTIONAL { ?cell_id rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?cell_label)\n}\nORDER BY ?sex ?tool ?dataset DESC(?cell_count)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries by Dataset",
        "tags": []
      }
    },
    "/hra-pop/cell-types-per-extraction-site": {
      "get": {
        "description": "Computes the cell summaries for each organ by extraction site.\n\n```\n#+ summary: Cell Summaries by Extraction Site \n#+ description: Computes the cell summaries for each organ by extraction site.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ_id ?organ ?extraction_site ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage \nFROM HRA:\nFROM HRApop:\nWHERE {\n  [] ccf:has_registration_location ?extraction_site .\n\n  ?extraction_site ccf:has_cell_summary [ \n      ccf:cell_annotation_method ?tool ;\n      ccf:modality ?modality ;\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n        ccf:cell_label ?raw_cell_label ;\n        ccf:cell_count ?cell_count ;\n        ccf:percentage_of_total ?cell_percentage ;\n    ]\n  ] .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_relative_to ?refOrgan ;\n    ccf:placement_for ?extraction_site .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n    ccf:organ_owner_sex ?sex ;\n    skos:prefLabel ?organ\n  ] .\n\n  ?organ_id rdfs:label ?organ_label .\n\n  OPTIONAL { ?cell_id rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?cell_label)\n}\nORDER BY ?sex ?tool ?extraction_site DESC(?cell_count)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries by Extraction Site",
        "tags": []
      }
    },
    "/hra-pop/cell_types_in_anatomical_structurescts_per_as": {
      "get": {
        "description": "Computes the cell summaries for each organ by anatomical strcutrure.\n\n```\n#+ summary: Cell Summaries by Anatomical Structure \n#+ description: Computes the cell summaries for each organ by anatomical strcutrure.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ ?as ?as_label ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage ?dataset_count\nFROM HRA:\nFROM HRApop:\nWHERE {\n  ?as ccf:has_cell_summary [ \n      ccf:cell_annotation_method ?tool ;\n      ccf:cell_source_label ?as_label ;\n      ccf:sex ?sex ;\n      ccf:modality ?modality ;\n      ccf:aggregated_summary_count ?dataset_count ;\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n        ccf:cell_label ?cell_label ;\n        ccf:cell_count ?cell_count ;\n        ccf:percentage_of_total ?cell_percentage ;\n    ]\n  ] .\n  FILTER(STRSTARTS(STR(?as), STR(UBERON:)) || STRSTARTS(STR(?as), STR(FMA:)))\n  \n  ?refOrganPiece ccf:representation_of ?as ;\n      ccf:has_reference_organ ?refOrgan .\n  ?refOrgan ccf:organ_owner_sex ?sex .\n  ?refOrgan skos:prefLabel ?organ .\n}\nORDER BY ?sex ?as ?tool DESC(?cell_count)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries by Anatomical Structure",
        "tags": []
      }
    },
    "/hra-pop/ct-bm-per-dataset": {
      "get": {
        "description": "Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n```\n#+ summary: Cell Summaries with Biomarker information by Dataset\n#+ description: Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ_id ?organ ?dataset ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage\n  ?biomarker_id ?biomarker_label ?mean_gene_expr_value\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?dataset ccf:has_cell_summary [ \n    ccf:cell_annotation_method ?tool ;\n    ccf:modality ?modality ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_label ?raw_cell_label ;\n      ccf:cell_count ?cell_count ;\n      ccf:percentage_of_total ?cell_percentage ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n        ccf:gene_id ?biomarker_id ;\n        ccf:mean_gene_expr_value ?mean_gene_expr_value ;\n      ]\n    ]\n  ] .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_relative_to ?refOrgan ;\n    ccf:placement_for ?rui_location .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n    ccf:organ_owner_sex ?sex ;\n    skos:prefLabel ?organ\n  ] .\n\n  ?organ_id rdfs:label ?organ_label .\n\n  OPTIONAL { ?cell_id rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?cell_label)\n}\nORDER BY ?sex ?tool ?dataset DESC(?cell_count)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries with Biomarker information by Dataset",
        "tags": []
      }
    },
    "/hra-pop/ctann-organs": {
      "get": {
        "description": "A list of organs supported by Azimuth, CellTypist, or Popv in the hra-workflows-runner\n\n```\n#+ summary: Organs supported by CTAnn\n#+ description: A list of organs supported by Azimuth, CellTypist, or Popv in the hra-workflows-runner\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?organ_id\nFROM <https://purl.humanatlas.io/graph/ctann-crosswalks>\nWHERE {\n  ?tool ccf:organ_id ?organ_id\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Organs supported by CTAnn",
        "tags": []
      }
    },
    "/hra-pop/datasets-with-as-collisions": {
      "get": {
        "description": "\n\n```\n#+ summary: get HRApop datasets with AS collisions\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?dataset ?organ_id ?as_id\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?rui_location ccf:has_collision_summary [\n    ccf:has_collision_item [\n      ccf:has_reference_organ ?refOrgan ;\n      ccf:as_id ?as_id ;\n    ]\n  ] .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n  ] .\n}\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get HRApop datasets with AS collisions",
        "tags": []
      }
    },
    "/hra-pop/datasets-with-bm": {
      "get": {
        "description": "Atlas Datasets that have a given Biomarker. There is one CT-BM expression per row.\n\n```\n#+ summary: Atlas Datasets with a given Biomarker\n#+ description: Atlas Datasets that have a given Biomarker. There is one CT-BM expression per row.\n\n#+ defaults:\n#+   - bmlabel: ENSG00000169710\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?source ?dataset ?organ ?sex ?tool ?cell_type ?cell_type_label ?cell_type_count ?biomarker ?mean_expression_value\nFROM CCF:\nFROM HRApop:\nWHERE {\n  ?donor ccf:consortium_name ?source .\n\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  {\n    ?dataset ccf:organ_id ?reportedOrganIriString .\n    BIND(IRI(?reportedOrganIriString) as ?reportedOrganIri)\n\n    OPTIONAL {\n      ?reportedOrganIri rdfs:label ?reportedOrganRdfsLabel .\n    }\n    OPTIONAL {\n      ?reportedOrganIri ccf:ccf_pref_label ?reportedOrganCcfLabel .\n    }\n    BIND(IF(BOUND(?reportedOrganRdfsLabel), ?reportedOrganRdfsLabel, ?reportedOrganCcfLabel) as ?organ)\n  }\n\n  ?dataset ccf:has_cell_summary [\n    ccf:sex ?sex ;\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_label ?cell_type_label ;\n      ccf:cell_count ?cell_type_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker ;\n        ccf:mean_gene_expr_value ?gene_expr ;\n      ]\n    ]\n  ] .\n\n  FILTER(EXISTS {\n    ?dataset ccf:has_cell_summary [\n      ccf:sex ?sex ;\n      ccf:cell_annotation_method ?tool ;\n      ccf:has_cell_summary_row [\n        ccf:gene_expr [\n          ccf:gene_label ?biomarker_label ;\n        ]\n      ]\n    ] .\n    FILTER(?_bmlabel = ?biomarker_label)\n  })\n\n  FILTER(CONTAINS(?_bmlabel, ?biomarker) || TRUE)\n\n  BIND(REPLACE(STR(?cell_id), STR(CL:), 'CL:') as ?cell_type)\n  BIND(xsd:decimal(?gene_expr) as ?mean_expression_value)\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string that will substitute ?_bmlabel in the original query",
            "in": "query",
            "name": "bmlabel",
            "required": true,
            "schema": {
              "type": "string",
              "default": "ENSG00000169710"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Atlas Datasets with a given Biomarker",
        "tags": []
      }
    },
    "/hra-pop/datasets-with-ct": {
      "get": {
        "description": "Atlas Datasets that have a given Cell Type. There is one CT-BM expression per row.\n\n```\n#+ summary: Atlas Datasets with a given Cell Type\n#+ description: Atlas Datasets that have a given Cell Type. There is one CT-BM expression per row.\n\n#+ defaults:\n#+   - celltype: http://purl.obolibrary.org/obo/CL_0000136\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?source ?dataset ?organ ?sex ?tool ?cell_type ?cell_type_label ?cell_type_count ?biomarker ?mean_expression_value\nFROM CCF:\nFROM HRApop:\nWHERE {\n  ?donor ccf:consortium_name ?source .\n\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  {\n    ?dataset ccf:organ_id ?reportedOrganIriString .\n    BIND(IRI(?reportedOrganIriString) as ?reportedOrganIri)\n\n    OPTIONAL {\n      ?reportedOrganIri rdfs:label ?reportedOrganRdfsLabel .\n    }\n    OPTIONAL {\n      ?reportedOrganIri ccf:ccf_pref_label ?reportedOrganCcfLabel .\n    }\n    BIND(IF(BOUND(?reportedOrganRdfsLabel), ?reportedOrganRdfsLabel, ?reportedOrganCcfLabel) as ?organ)\n  }\n\n  ?dataset ccf:has_cell_summary [\n    ccf:sex ?sex ;\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_id ?_celltype_iri ;\n      ccf:cell_label ?cell_type_label ;\n      ccf:cell_count ?cell_type_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker ;\n        ccf:mean_gene_expr_value ?gene_expr ;\n      ]\n    ]\n  ] .\n\n  BIND(REPLACE(STR(?cell_id), STR(CL:), 'CL:') as ?cell_type)\n  BIND(xsd:decimal(?gene_expr) as ?mean_expression_value)\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_celltype_iri in the original query",
            "in": "query",
            "name": "celltype",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/CL_0000136"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Atlas Datasets with a given Cell Type",
        "tags": []
      }
    },
    "/hra-pop/datasets-with-ftu": {
      "get": {
        "description": "\n\n```\n#+ summary: get HRApop datasets with AS collisions that could have an FTU in it\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA_API: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?dataset ?organ_id ?as_id ?ftu ?ftu_iri \nFROM HRA_API:\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      ccf:representation_of ?ftu_iri .\n    BIND(STRBEFORE(STR(?ftu_illustration), '#primary') as ?ftu)\n  }\n\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?rui_location ccf:has_collision_summary [\n    ccf:has_collision_item [\n      ccf:has_reference_organ ?refOrgan ;\n      ccf:as_id ?as_id ;\n    ]\n  ] .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n  ] .\n\n  ?ftu_iri ccf:ccf_part_of* ?as_id .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get HRApop datasets with AS collisions that could have an FTU in it",
        "tags": []
      }
    },
    "/hra-pop/datasets-with-maybe-ftu": {
      "get": {
        "description": "\n\n```\n#+ summary: get HRApop datasets with AS collisions that could have an FTU in it\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA_API: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?dataset ?organ_id ?as_id ?ftu ?ftu_iri \nFROM HRA_API:\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?rui_location ccf:has_collision_summary [\n    ccf:has_collision_item [\n      ccf:has_reference_organ ?refOrgan ;\n      ccf:as_id ?as_id ;\n    ]\n  ] .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n  ] .\n\n  OPTIONAL {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      ccf:representation_of ?ftu_iri .\n    BIND(STRBEFORE(STR(?ftu_illustration), '#primary') as ?ftu)\n\n    ?ftu_iri ccf:ccf_part_of* ?as_id .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "get HRApop datasets with AS collisions that could have an FTU in it",
        "tags": []
      }
    },
    "/ccf/as-3d-cnt": {
      "get": {
        "description": "Count of 3D Anatomical Structures\n\n```\n#+ summary: Count of 3D Anatomical Structures\n#+ description: Count of 3D Anatomical Structures\n\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT (COUNT(?as3d) as ?as_count)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  SELECT DISTINCT ?as3d WHERE {\n    ?as3d ccf:has_reference_organ ?y .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Count of 3D Anatomical Structures",
        "tags": []
      }
    },
    "/ccf/as-3d-counts": {
      "get": {
        "description": "Count of 3D Anatomical Structures\n\n```\n#+ summary: Count of 3D Anatomical Structures\n#+ description: Count of 3D Anatomical Structures\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\n\nSELECT ?label ?count\nFROM CCF:\nWHERE {\n  {\n    SELECT (\"3D reference organs (no united)\" as ?label)\n      (COUNT(DISTINCT(?ref_organ)) as ?count)\n    WHERE {\n      ?ref_organ ccf:has_reference_organ ?ref_organ .\n      FILTER(!CONTAINS(STR(?ref_organ), '/ref-organ/united-'))\n    }\n  }\n  UNION\n  {\n    SELECT (\"3D anatomical structures (no united)\" as ?label)\n      (COUNT(DISTINCT(?as3d)) as ?count)\n    WHERE {\n      ?as3d ccf:has_reference_organ ?y .\n      FILTER(!CONTAINS(STR(?y), '/ref-organ/united-'))\n    }\n  }\n  UNION\n  {\n    SELECT (\"3D anatomical structures (no united and no reference organ AS)\" as ?label)\n      (COUNT(DISTINCT(?as3d)) as ?count)\n    WHERE {\n      ?as3d ccf:has_reference_organ ?y .\n      FILTER(?as3d != ?y && !CONTAINS(STR(?y), '/ref-organ/united-'))\n    }\n  }\n}\nORDER BY ?label\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Count of 3D Anatomical Structures",
        "tags": []
      }
    },
    "/ccf/as-cnt-by-ref-organ": {
      "get": {
        "description": "Number of Anatomical Structures per Reference Organ\n\n```\n#+ summary: Ref Organ AS count\n#+ description: Number of Anatomical Structures per Reference Organ\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT (SAMPLE(?organ) AS ?organName) (COUNT(?structure) AS ?asCount)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?structure ccf:has_reference_organ ?organ .\n}\nGROUP BY ?organ\nORDER BY ?organName\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Ref Organ AS count",
        "tags": []
      }
    },
    "/ccf/as-ct-b-counts": {
      "get": {
        "description": "\n\n```\n#+ summary: Unique AS, CT, and B in HRA\n\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT ?asctb_type (COUNT(DISTINCT(?iri)) as ?count)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?iri ccf:ccf_asctb_type ?asctb_type\n}\nGROUP BY ?asctb_type\nORDER BY ?asctb_type\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Unique AS, CT, and B in HRA",
        "tags": []
      }
    },
    "/ccf/as-per-organ": {
      "get": {
        "description": "Number of Anatomical Structures per Reference Organ\n\n```\n#+ summary: AS per Ref. Organ\n#+ description: Number of Anatomical Structures per Reference Organ\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\n\nSELECT\n  ?organ\n  ?sex\n  (COUNT(?structure) AS ?as_count)\n  (SAMPLE(?uberon_id) as ?uberon_id)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?structure ccf:has_reference_organ ?refOrgan .\n  ?refOrgan rdfs:label ?organ ;\n    ccf:representation_of ?organIri ;\n    ccf:organ_owner_sex ?sex .\n\n  BIND(REPLACE(REPLACE(STR(?organIri), STR(UBERON:), 'UBERON:'), STR(FMA:), 'FMA:') as ?uberon_id)\n}\nGROUP BY ?organ ?sex\nORDER BY ?organ ?sex\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS per Ref. Organ",
        "tags": []
      }
    },
    "/ccf/asctb-count": {
      "get": {
        "description": "Total number of AS, CT, & B in the HRA-KG\n\n```\n#+ summary: AS, CT, & B total count\n#+ description: Total number of AS, CT, & B in the HRA-KG\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT (COUNT(DISTINCT ?iri) as ?cnt)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  # AS\n  {\n    ?iri ccf:ccf_part_of [] .\n  }\n  UNION\n  {\n    [] ccf:ccf_part_of ?iri .\n  }\n\n  # CT\n  UNION\n  {\n    ?iri ccf:ccf_located_in [] .\n  }\n  UNION\n  {\n    [] ccf:ccf_located_in ?iri .\n  }\n\n  # AS, CT, & B\n  UNION\n  {\n    ?iri ccf:ccf_asctb_type [] .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS, CT, & B total count",
        "tags": []
      }
    },
    "/ccf/block-annotations": {
      "get": {
        "description": "Get tissue block (and rui location) annotations\n\n```\n#+ summary: Tissue Block Annotations\n#+ description: Get tissue block (and rui location) annotations\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT ?block ?ruiLocation ?term\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM <https://purl.humanatlas.io/collection/ds-graphs>\nWHERE {\n  ?block ccf:has_registration_location ?ruiLocation .\n  ?ruiLocation ccf:collides_with ?term .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Tissue Block Annotations",
        "tags": []
      }
    },
    "/ccf/cell_by_location": {
      "get": {
        "description": "Enter an anatomical structure IRI, get back a list of cell type IRIs and labels\n\n```\n#+ summary: cell types located in an anatomical structure\n#+ description: Enter an anatomical structure IRI, get back a list of cell type IRIs and labels\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccfo: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?cell_iri (STR(?qlabel) as ?cell_label)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?cell_iri ccfo:ccf_located_in ?_location_iri .\n  ?cell_iri rdfs:label ?qlabel .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "cell types located in an anatomical structure",
        "tags": []
      }
    },
    "/ccf/cells_characterized_by_bm": {
      "get": {
        "description": "all biomarkers characterizing cell types\n\n```\n#+ summary: all biomarkers characterizing cell types\n#+ description: all biomarkers characterizing cell types\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\n\nSELECT DISTINCT ?biomarker_iri ?cell_iri (STR(?qlabel) as ?cell_label)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?cell_iri rdfs:label ?qlabel .\n\n  # Find biomarkers that characterize the cell type\n  ?cell_iri rdfs:subClassOf [\n    owl:onProperty has_characterizing_biomarker_set: ;\n    owl:someValuesFrom [ owl:intersectionOf ?bn3 ]] .\n  ?bn3 rdf:rest*/rdf:first [\n    owl:onProperty ccf:has_marker_component ;\n    owl:someValuesFrom ?biomarker_iri\n  ] .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "all biomarkers characterizing cell types",
        "tags": []
      }
    },
    "/ccf/cells_located_in_as": {
      "get": {
        "description": "all cell types located in all anatomical structures\n\n```\n#+ summary: all cell types located in all anatomical structures\n#+ description: all cell types located in all anatomical structures\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccfo: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?as_iri ?cell_iri (STR(?qlabel) as ?cell_label)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?cell_iri ccfo:ccf_located_in ?as_iri .\n  ?cell_iri rdfs:label ?qlabel .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "all cell types located in all anatomical structures",
        "tags": []
      }
    },
    "/ccf/high-level-stats": {
      "get": {
        "description": "\n\n```\nSELECT ?label ?count\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  {\n    SELECT (\"# Nodes\" as ?label) (COUNT(DISTINCT(?s)) as ?count)\n    WHERE {\n      {\n        ?s ?p1 [] .\n      }\n      UNION\n      {\n        [] ?p2 ?s .\n        FILTER(isIRI(?s)) \n      }\n    }\n  }\n  UNION\n  {\n    SELECT (\"# Edges\" as ?label) (COUNT(*) as ?count)\n    WHERE {\n      ?s ?p ?o .\n    }\n  }\n  UNION\n  {\n    SELECT (\"# Edge Types\" as ?label) (COUNT(DISTINCT(?p)) as ?count)\n    WHERE {\n      ?s ?p ?o .\n    }\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/ccf/landmark-cnt": {
      "get": {
        "description": "Count of 3D Landmarks\n\n```\n#+ summary: Count of 3D Landmarks\n#+ description: Count of 3D Landmarks\n\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT (COUNT(?landmark) as ?landmark_count)\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  SELECT DISTINCT ?landmark WHERE {\n    ?landmark ccf:has_extraction_set ?y .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Count of 3D Landmarks",
        "tags": []
      }
    },
    "/ccf/landmarks-by-organ": {
      "get": {
        "description": "Landmarks by Organ\n\n```\n#+ summary: Landmarks by Organ\n#+ description: Landmarks by Organ\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?organ ?landmark_set ?landmark\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?landmark_id ccf:has_extraction_set ?extraction_set .\n  ?landmark_id rdfs:label ?landmark .\n  ?extraction_set ccf:extraction_set_for ?reference_organ .\n  ?extraction_set rdfs:label ?landmark_set .\n  ?reference_organ ccf:representation_of ?organ_id .\n  ?organ_id rdfs:label ?organ .\n}\nORDER BY ?organ ?landmark_set\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Landmarks by Organ",
        "tags": []
      }
    },
    "/ccf/organ-and-cell-by-bm": {
      "get": {
        "description": "Enter a biomarker IRI, get back a list of cell type and organ IRIs and labels\n\n```\n#+ summary: organs and cell types characterized by a given biomarker\n#+ description: Enter a biomarker IRI, get back a list of cell type and organ IRIs and labels\n\n#+ defaults:\n#+   - biomarker: http://identifiers.org/hgnc/1678\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\n\nSELECT ?organ_label ?ct_label ?bm_label ?organ ?ct ?bm\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  # Find reference organ's AS / Uberon Term\n  ?ref_organ ccf:has_reference_organ ?ref_organ .\n  ?ref_organ ccf:representation_of ?organ .\n\n  # Find cell types located in the organ\n  ?ct ccf:ccf_located_in ?organ .  \n  #?ct ccf:ccf_asctb_type 'CT' .\n  \n  # Find biomarkers that characterize the cell type\n  ?ct rdfs:subClassOf [\n  \towl:onProperty has_characterizing_biomarker_set: ;\n  \towl:someValuesFrom [ owl:intersectionOf ?bn3 ]] .\n  ?bn3 rdf:rest*/rdf:first [\n  \towl:onProperty ccf:has_marker_component ;\n    owl:someValuesFrom ?_biomarker_iri ;\n    owl:someValuesFrom ?bm\n  ] .\n\n  # Grab labels\n  ?organ rdfs:label ?organ_label .\n  ?ct rdfs:label ?ct_label .\n  ?bm rdfs:label ?bm_label .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_biomarker_iri in the original query",
            "in": "query",
            "name": "biomarker",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://identifiers.org/hgnc/1678"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "organs and cell types characterized by a given biomarker",
        "tags": []
      }
    },
    "/ccf/organ-and-cell-by-bm-all": {
      "get": {
        "description": "\n\n```\n#+ summary: all results for organs and cell types characterized by a given biomarker\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\nPREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>\n\nSELECT ?organ_label ?ct_label ?bm_label ?organ ?ct ?bm ?ct_label_syn ?bm_label_syn\nFROM CCF:\nWHERE {\n  # Find reference organ's AS / Uberon Term\n  ?ref_organ ccf:has_reference_organ ?ref_organ .\n  ?ref_organ ccf:representation_of ?organ .\n\n  # Find cell types located in the organ\n  ?ct ccf:ccf_located_in ?organ .\n  \n  # Find biomarkers that characterize the cell type\n  ?ct rdfs:subClassOf [\n  \towl:onProperty has_characterizing_biomarker_set: ;\n  \towl:someValuesFrom [ owl:intersectionOf ?bn3 ]] .\n  ?bn3 rdf:rest*/rdf:first [\n  \towl:onProperty ccf:has_marker_component ;\n    owl:someValuesFrom ?bm\n  ] .\n\n  # Grab labels\n  ?organ rdfs:label ?organ_label .\n  ?ct rdfs:label ?ct_label .\n  ?bm rdfs:label ?bm_label .\n  \n  # Grab synonyms\n  {\n  \t?ct ccf:ccf_pref_label ?ct_label_syn .\n  } UNION {\n    ?ct oboInOwl:hasExactSynonym ?ct_label_syn .\n  }\n  \n  # Grab synonyms\n  {\n  \t?bm ccf:ccf_pref_label ?bm_label_syn .\n  } UNION {\n    ?bm oboInOwl:hasExactSynonym ?bm_label_syn .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "all results for organs and cell types characterized by a given biomarker",
        "tags": []
      }
    },
    "/ccf/organ-by-bm": {
      "get": {
        "description": "Enter a biomarker IRI, get back a list of cell type and organ IRIs and labels\n\n```\n#+ summary: organs and cell types characterized by a given biomarker\n#+ description: Enter a biomarker IRI, get back a list of cell type and organ IRIs and labels\n\n#+ defaults:\n#+   - biomarker: http://identifiers.org/hgnc/1678\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\n\nSELECT DISTINCT ?organ ?organ_label\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  # Find reference organ's AS / Uberon Term\n  ?ref_organ ccf:has_reference_organ ?ref_organ .\n  ?ref_organ ccf:representation_of ?organ .\n\n  # Find cell types located in the organ\n  ?ct ccf:ccf_located_in ?representation_of .  \n  #?ct ccf:ccf_asctb_type 'CT' .\n\n  # Find biomarkers that characterize the cell type\n  ?ct rdfs:subClassOf [\n    owl:onProperty has_characterizing_biomarker_set: ;\n    owl:someValuesFrom [ owl:intersectionOf ?bn3 ]] .\n  ?bn3 rdf:rest*/rdf:first [\n    owl:onProperty ccf:has_marker_component ;\n    owl:someValuesFrom ?_biomarker_iri ;\n    owl:someValuesFrom ?bm\n  ] .\n\n  # Grab labels\n  ?organ rdfs:label ?organ_label .\n  ?ct rdfs:label ?ct_label .\n  ?bm rdfs:label ?bm_label .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_biomarker_iri in the original query",
            "in": "query",
            "name": "biomarker",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://identifiers.org/hgnc/1678"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "organs and cell types characterized by a given biomarker",
        "tags": []
      }
    },
    "/ccf/ref-organ-as-info": {
      "get": {
        "description": "Reference Organ AS information\n\n```\n#+ summary: Reference Organ AS information\n#+ description: Reference Organ AS information\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ccf-spo: <http://purl.org/ccf/latest/ccf.owl#>\n\nSELECT DISTINCT ?as_iri ?ref_organ_iri ?ref_organ_term ?sex\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?as3d ccf:has_reference_organ ?ref_organ_iri .\n  ?as3d ccf:representation_of ?as_iri .\n  ?ref_organ_iri ccf:representation_of ?ref_organ_term .\n  ?ref_organ_iri ccf:organ_owner_sex ?sex .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Reference Organ AS information",
        "tags": []
      }
    },
    "/ccf/ref-organ-glb-files": {
      "get": {
        "description": "Reference Organ GLB information\n\n```\n#+ summary: Reference Organ GLB information\n#+ description: Reference Organ GLB information\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ccf-spo: <http://purl.org/ccf/latest/ccf.owl#>\n\nSELECT DISTINCT (STR(?refOrgan) as ?ref_organ) ?glb_url ?scene_node\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?n ccf:placement_for ?refOrgan .\n  ?n ccf:placement_relative_to ?target .\n  ?refOrgan ccf:has_reference_organ ?refOrgan .\n  ?refOrgan ccf:has_object_reference [\n  \tccf:file_url ?glb_url ;\n    ccf:file_subpath ?scene_node  \n  ] .\n  FILTER ( ?target = ccf-spo:VHFemale || ?target = ccf-spo:VHMale ) \n}\nORDER BY ?ref_organ\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Reference Organ GLB information",
        "tags": []
      }
    },
    "/ccf/ref-organ-terms": {
      "get": {
        "description": "Top-level terms associated with Reference Organs\n\n```\n#+ summary: Reference Organ Terms\n#+ description: Top-level terms associated with Reference Organs\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?ref_organ ?representation_of\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n {\n    SELECT ?ref_organ ?representation_of WHERE {\n      ?ref_organ ccf:has_reference_organ ?ref_organ .\n      ?ref_organ ccf:representation_of ?representation_of .\n    }\n }\n UNION\n {\n    SELECT ?ref_organ ?representation_of WHERE {\n      ?ref_organ ccf:has_reference_organ ?ref_organ .\n      ?ref_organ ccf:representation_of ?direct_rep .\n      ?direct_rep ccf:ccf_part_of ?representation_of .\n      FILTER ( ?representation_of != <http://purl.obolibrary.org/obo/UBERON_0013702> )\n    }\n  }\n  UNION {\n    SELECT ?ref_organ ?representation_of WHERE {\n    } VALUES (?ref_organ ?representation_of) {\n\t( ccf:VHMProstate <http://purl.obolibrary.org/obo/UBERON_0002367> )\n      \t( ccf:VHFLungV1.1 <http://purl.obolibrary.org/obo/UBERON_0002048> )\n      \t( ccf:VHMLung <http://purl.obolibrary.org/obo/UBERON_0002048> )\n    }\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Reference Organ Terms",
        "tags": []
      }
    },
    "/ccf/ref-organ-to-sex": {
      "get": {
        "description": "Returns the sex for each reference organ (minus version string)\n\n```\n#+ summary: Ref Organ => Sex\n#+ description: Returns the sex for each reference organ (minus version string)\n\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?reference_organ ?sex\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?refOrgan a ccf:SpatialEntity .\n  ?refOrgan ccf:has_reference_organ ?refOrgan .\n  ?refOrgan ccf:organ_owner_sex ?sex .\n  BIND (REPLACE(REPLACE(STR(?refOrgan), \"V1.1\", \"\"), \"V1.2\", \"\") as ?reference_organ)\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Ref Organ => Sex",
        "tags": []
      }
    },
    "/ccf/rui-location-to-ref-organ": {
      "get": {
        "description": "Returns the reference organ (minus version string) associated with each rui location\n\n```\n#+ summary: RUI Location => Ref Organ\n#+ description: Returns the reference organ (minus version string) associated with each rui location\n\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT (STR(?ruiLocation) as ?rui_location) ?reference_organ\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM <https://purl.humanatlas.io/collection/ds-graphs>\nWHERE {\n  ?placement ccf:placement_for ?ruiLocation .\n  ?placement ccf:placement_relative_to ?refOrgan .\n  ?refOrgan ccf:has_reference_organ ?refOrgan .\n  BIND (REPLACE(REPLACE(STR(?refOrgan), \"V1.1\", \"\"), \"V1.2\", \"\") as ?reference_organ)\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "RUI Location => Ref Organ",
        "tags": []
      }
    },
    "/ccf/sex-mismatches": {
      "get": {
        "description": "Get Tissue Blocks that have a Donor sex different from the Reference Organ sex\n\n```\n#+ summary: Sex Mismatches\n#+ description: Get Tissue Blocks that have a Donor sex different from the Reference Organ sex\n\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT ?block ?ruiLocation ?refOrgan ?donorSex ?refOrganSex\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM <https://purl.humanatlas.io/collection/ds-graphs>\nWHERE {\n  # Find donor sex\n  ?block ccf:comes_from [\n      ccf:sex ?donorSex\n  ] .\n  \n  # Find reference organ sex associated with the block's rui_location \n  ?block ccf:has_registration_location ?ruiLocation .\n  [] ccf:placement_for ?ruiLocation ;\n    ccf:placement_relative_to ?refOrgan .\n  ?refOrgan ccf:organ_owner_sex ?refOrganSex .\n\n  FILTER ( STR(?donorSex) != STR(?refOrganSex) )\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Sex Mismatches",
        "tags": []
      }
    },
    "/butterfly/asct-edges": {
      "get": {
        "description": "\n\n```\n#+ summary: AS-CT Edges\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT ?organ ?source ?target ?source_type ?target_type\nWHERE {\n  hint:Query hint:optimizer \"Runtime\" .\n\n  {\n    SELECT DISTINCT ?graph ?organ\n    WHERE {\n      GRAPH HRA: {\n        HRA: a owl:Ontology ;\n          prov:hadMember ?versionedGraph .\n        FILTER(STRSTARTS(STR(?versionedGraph), 'https://purl.humanatlas.io/asct-b/'))\n      }\n      GRAPH ?namedGraph {\n        ?graph a owl:Ontology .\n        FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n      }\n      FILTER(STRSTARTS(STR(?versionedGraph), STR(?graph)))\n      BIND(REPLACE(REPLACE(STR(?graph), 'https://purl.humanatlas.io/asct-b/', ''), '-', '_') as ?organ)\n    }\n  }\n\n  GRAPH ?graph {\n    {\n      ?source ccf:ccf_part_of ?target .\n\n      ?source ccf:ccf_asctb_type ?source_type .\n      FILTER(?source_type = 'AS')\n      ?target ccf:ccf_asctb_type ?target_type .\n      FILTER(?target_type = 'AS')\n    }\n    UNION\n    {\n      ?source ccf:ccf_located_in ?target .\n\n      ?source ccf:ccf_asctb_type ?source_type .\n      FILTER(?source_type = 'CT')\n      ?target ccf:ccf_asctb_type ?target_type .\n      FILTER(?target_type = 'AS')\n    }\n    FILTER(?source != ?target)\n  }\n  FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n}\nORDER BY ?organ ?source ?target\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS-CT Edges",
        "tags": []
      }
    },
    "/butterfly/asct-edges-bfs": {
      "get": {
        "description": "\n\n```\n#+ summary: AS-CT Edges (with BFS partonomy)\n\nPREFIX gas: <http://www.bigdata.com/rdf/gas#>\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX body: <http://purl.obolibrary.org/obo/UBERON_0013702>\n\nSELECT ?organ ?source ?target ?source_type ?target_type\nWHERE {\n  hint:Query hint:optimizer \"Runtime\" .\n\n  {\n    SELECT DISTINCT ?graph ?organ\n    WHERE {\n      GRAPH HRA: {\n        HRA: a owl:Ontology ;\n          prov:hadMember ?versionedGraph .\n        FILTER(STRSTARTS(STR(?versionedGraph), 'https://purl.humanatlas.io/asct-b/'))\n      }\n      GRAPH ?namedGraph {\n        ?graph a owl:Ontology .\n        FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n      }\n      FILTER(STRSTARTS(STR(?versionedGraph), STR(?graph)))\n      BIND(REPLACE(REPLACE(STR(?graph), 'https://purl.humanatlas.io/asct-b/', ''), '-', '_') as ?organ)\n    }\n  }\n\n  GRAPH ?graph {\n    {\n      ?source ccf:ccf_part_of ?target .\n\n      # Use Breadth-First Search to ensure the returned partonomy is a tree\n      {\n        SELECT DISTINCT ?source ?target ?source_type ?target_type\n        WHERE {\n          ?source ccf:ccf_asctb_type ?source_type .\n          ?target ccf:ccf_asctb_type ?target_type .\n          FILTER(?source_type = 'AS' && ?target_type = 'AS')\n\n          SERVICE gas:service {\n            gas:program gas:gasClass \"com.bigdata.rdf.graph.analytics.BFS\" .\n            gas:program gas:in body: .\n            gas:program gas:linkType ccf:ccf_part_of .\n            gas:program gas:traversalDirection 'Reverse' .\n            gas:program gas:out ?source .\n            gas:program gas:out1 ?depth .\n            gas:program gas:out2 ?target .\n          }\n        }\n      }\n    }\n    UNION\n    {\n      ?source ccf:ccf_located_in ?target .\n\n      ?source ccf:ccf_asctb_type ?source_type .\n      ?target ccf:ccf_asctb_type ?target_type .\n      FILTER(?source_type = 'CT' && ?target_type = 'AS')\n    }\n    FILTER(?source != ?target)    \n  }\n  FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n}\nORDER BY ?organ ?source ?target\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS-CT Edges (with BFS partonomy)",
        "tags": []
      }
    },
    "/butterfly/asct-edges-uniq": {
      "get": {
        "description": "\n\n```\n#+ summary: AS-CT Edges (unique edges)\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT (GROUP_CONCAT(?organ;SEPARATOR='|') as ?organ)\n  ?source ?target\n  (SAMPLE(?source_type) as ?source_type)\n  (SAMPLE(?target_type) as ?target_type)\nWHERE {\n  hint:Query hint:optimizer \"Runtime\" .\n\n  {\n    SELECT ?organ ?source ?target\n      (SAMPLE(?source_type) as ?source_type)\n      (SAMPLE(?target_type) as ?target_type)\n    WHERE {\n      {\n        SELECT DISTINCT ?graph ?organ\n        WHERE {\n          GRAPH HRA: {\n            HRA: a owl:Ontology ;\n              prov:hadMember ?versionedGraph .\n            FILTER(STRSTARTS(STR(?versionedGraph), 'https://purl.humanatlas.io/asct-b/'))\n          }\n          GRAPH ?namedGraph {\n            ?graph a owl:Ontology .\n            FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n          }\n          FILTER(STRSTARTS(STR(?versionedGraph), STR(?graph)))\n          BIND(REPLACE(REPLACE(STR(?graph), 'https://purl.humanatlas.io/asct-b/', ''), '-', '_') as ?organ)\n        }\n      }\n\n      GRAPH ?graph {\n        {\n          ?source ccf:ccf_part_of ?target .\n\n          ?source ccf:ccf_asctb_type ?source_type .\n          FILTER(?source_type = 'AS')\n          ?target ccf:ccf_asctb_type ?target_type .\n          FILTER(?target_type = 'AS')\n        }\n        UNION\n        {\n          ?source ccf:ccf_located_in ?target .\n\n          ?source ccf:ccf_asctb_type ?source_type .\n          FILTER(?source_type = 'CT')\n          ?target ccf:ccf_asctb_type ?target_type .\n          FILTER(?target_type = 'AS')\n        }\n        FILTER(?source != ?target)        \n      }\n      FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n    }\n    GROUP BY ?organ ?source ?target\n  }\n}\nGROUP BY ?source ?target\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS-CT Edges (unique edges)",
        "tags": []
      }
    },
    "/butterfly/asct-nodes": {
      "get": {
        "description": "\n\n```\n#+ summary: AS-CT Nodes\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX PCL: <http://purl.obolibrary.org/obo/PCL_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX ASCTB-TEMP: <https://purl.org/ccf/ASCTB-TEMP_>\nPREFIX LMHA: <http://purl.obolibrary.org/obo/LMHA_>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT DISTINCT ?id ?name ?type ?organ ?ontology_id\nWHERE {\n  {\n    SELECT ?id (SAMPLE(?name) as ?name) ?type ?ontology_id\n    WHERE {\n      GRAPH HRA: {\n        # get ID and ASCT+B type, limit to AS + CT\n        ?id ccf:ccf_asctb_type ?type .\n        FILTER(?type != 'BM')\n\n        # Reformat URI to a shorter CURIE string, eg UBERON:12345\n        BIND(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?id), \n          STR(UBERON:), 'UBERON:'), STR(CL:), 'CL:'), STR(PCL:), 'PCL:'),\n          STR(FMA:), 'FMA:'), STR(LMHA:), 'LMHA:'), STR(ASCTB-TEMP:), 'ASCTB-TEMP:') as ?ontology_id)\n\n        # Grab possible labels and create the node name\n        OPTIONAL {\n          ?id rdfs:label ?rdfs_label .\n        }\n        OPTIONAL {\n          ?id skos:prefLabel ?pref_label .\n        }\n        OPTIONAL {\n          ?id ccf:ccf_pref_label ?ccf_pref_label .\n        }\n        BIND(IF(BOUND(?pref_label), ?pref_label,\n          IF(BOUND(?ccf_pref_label), ?ccf_pref_label,\n            IF(BOUND(?rdfs_label), ?rdfs_label, \n              IF(STRSTARTS(?ontology_id, 'ASCTB-TEMP:'), REPLACE(REPLACE(?ontology_id, 'ASCTB-TEMP:', ''), '-', ' '),\n                ?ontology_id)))) as ?name)\n      }\n    }\n    GROUP BY ?id ?type ?ontology_id\n  }\n\n  {\n    SELECT DISTINCT ?graph ?organ\n    WHERE {\n      GRAPH HRA: {\n        HRA: a owl:Ontology ;\n          prov:hadMember ?versionedGraph .\n        FILTER(STRSTARTS(STR(?versionedGraph), 'https://purl.humanatlas.io/asct-b/'))\n      }\n      GRAPH ?namedGraph {\n        ?graph a owl:Ontology .\n        FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n      }\n      FILTER(STRSTARTS(STR(?versionedGraph), STR(?graph)))\n      BIND(REPLACE(REPLACE(STR(?graph), 'https://purl.humanatlas.io/asct-b/', ''), '-', '_') as ?organ)\n    }\n  }\n\n  GRAPH ?graph {\n    {\n      [] ccf:ccf_part_of ?id .\n    }\n    UNION\n    {\n      ?id ccf:ccf_part_of [] .\n    }\n    UNION\n    {\n      ?id ccf:ccf_located_in [] .\n    }\n    UNION\n    {\n      [] ccf:ccf_located_in ?id .\n    }\n  }\n}\nORDER BY ?organ ?name\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS-CT Nodes",
        "tags": []
      }
    },
    "/butterfly/asct-nodes-uniq": {
      "get": {
        "description": "\n\n```\n#+ summary: AS-CT Nodes (unique nodes)\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX prov: <http://www.w3.org/ns/prov#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX PCL: <http://purl.obolibrary.org/obo/PCL_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX ASCTB-TEMP: <https://purl.org/ccf/ASCTB-TEMP_>\nPREFIX LMHA: <http://purl.obolibrary.org/obo/LMHA_>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT DISTINCT ?id\n  (SAMPLE(?name) as ?name)\n  (SAMPLE(?type) as ?type)\n  (GROUP_CONCAT(?organ;SEPARATOR='|') as ?organ)\n  (SAMPLE(?ontology_id) as ?ontology_id)\nWHERE {\n  {\n    SELECT DISTINCT ?id ?organ (SAMPLE(?name) as ?name) (SAMPLE(?type) as ?type) (SAMPLE(?ontology_id) as ?ontology_id)\n    WHERE {\n      GRAPH HRA: {\n        # get ID and ASCT+B type, limit to AS + CT\n        ?id ccf:ccf_asctb_type ?type .\n        FILTER(?type != 'BM')\n\n        # Reformat URI to a shorter CURIE string, eg UBERON:12345\n        BIND(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?id), \n          STR(UBERON:), 'UBERON:'), STR(CL:), 'CL:'), STR(PCL:), 'PCL:'),\n          STR(FMA:), 'FMA:'), STR(LMHA:), 'LMHA:'), STR(ASCTB-TEMP:), 'ASCTB-TEMP:') as ?ontology_id)\n\n        # Grab possible labels and create the node name\n        OPTIONAL {\n          ?id rdfs:label ?rdfs_label .\n        }\n        OPTIONAL {\n          ?id skos:prefLabel ?pref_label .\n        }\n        OPTIONAL {\n          ?id ccf:ccf_pref_label ?ccf_pref_label .\n        }\n        BIND(IF(BOUND(?pref_label), ?pref_label,\n          IF(BOUND(?ccf_pref_label), ?ccf_pref_label,\n            IF(BOUND(?rdfs_label), ?rdfs_label, \n              IF(STRSTARTS(?ontology_id, 'ASCTB-TEMP:'), REPLACE(REPLACE(?ontology_id, 'ASCTB-TEMP:', ''), '-', ' '),\n                ?ontology_id)))) as ?name)\n      }\n\n      {\n        SELECT DISTINCT ?graph ?organ\n        WHERE {\n          GRAPH HRA: {\n            HRA: a owl:Ontology ;\n              prov:hadMember ?versionedGraph .\n            FILTER(STRSTARTS(STR(?versionedGraph), 'https://purl.humanatlas.io/asct-b/'))\n          }\n          GRAPH ?namedGraph {\n            ?graph a owl:Ontology .\n            FILTER(STRSTARTS(STR(?graph), 'https://purl.humanatlas.io/asct-b/'))\n          }\n          FILTER(STRSTARTS(STR(?versionedGraph), STR(?graph)))\n          BIND(REPLACE(REPLACE(STR(?graph), 'https://purl.humanatlas.io/asct-b/', ''), '-', '_') as ?organ)\n        }\n      }\n\n      GRAPH ?graph {\n        {\n          [] ccf:ccf_part_of ?id .\n        }\n        UNION\n        {\n          ?id ccf:ccf_part_of [] .\n        }\n        UNION\n        {\n          ?id ccf:ccf_located_in [] .\n        }\n        UNION\n        {\n          [] ccf:ccf_located_in ?id .\n        }\n      }\n    }\n    GROUP BY ?id ?organ\n  }\n}\nGROUP BY ?id\nORDER BY ?name\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "AS-CT Nodes (unique nodes)",
        "tags": []
      }
    },
    "/fusion/asct_by_biomarker": {
      "get": {
        "description": "Enter an biomarker IRI, get back a list of anatomical structure and cell type IRIs and labels\n\n```\n#+ summary: anatomical structures and cell types associated with a given biomarker\n#+ description: Enter an biomarker IRI, get back a list of anatomical structure and cell type IRIs and labels\n\n#+ defaults:\n#+   - biomarker: http://identifiers.org/hgnc/1653\n\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX has_characterizing_biomarker_set: <http://purl.obolibrary.org/obo/RO_0015004>\n\nSELECT DISTINCT ?location_iri ?location_label ?cell_iri (STR(?qlabel) as ?cell_label)\nFROM <https://purl.humanatlas.io/collection/hra>\nWHERE {\n  ?location_iri ^ccf:ccf_part_of* ?child . \n  ?cell_iri ccf:ccf_located_in ?child .\n  ?cell_iri rdfs:label ?qlabel .\n  ?location_iri rdfs:label ?location_label .\n  \n  # Find biomarkers that characterize the cell type\n  ?cell_iri rdfs:subClassOf [\n    owl:onProperty has_characterizing_biomarker_set: ;\n    owl:someValuesFrom [ owl:intersectionOf ?bn3 ]] .\n    ?bn3 rdf:rest*/rdf:first [\n      owl:onProperty ccf:has_marker_component ;\n      owl:someValuesFrom ?_biomarker_iri\n    ] .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_biomarker_iri in the original query",
            "in": "query",
            "name": "biomarker",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://identifiers.org/hgnc/1653"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "anatomical structures and cell types associated with a given biomarker",
        "tags": []
      }
    },
    "/fusion/cell_by_location": {
      "get": {
        "description": "Enter an anatomical structure IRI, get back a list of cell type IRIs and labels\n\n```\n#+ summary: cell types located in an anatomical structure\n#+ description: Enter an anatomical structure IRI, get back a list of cell type IRIs and labels\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?cell_iri (STR(?qlabel) as ?cell_label)\nFROM <https://purl.humanatlas.io/collection/hra>\nWHERE {\n  ?_location_iri ^ccf:ccf_part_of* ?child . \n  ?cell_iri ccf:ccf_located_in ?child .\n  ?cell_iri rdfs:label ?qlabel .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "cell types located in an anatomical structure",
        "tags": []
      }
    },
    "/hra-scratch/all-named-graphs": {
      "get": {
        "description": "\n\n```\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?graph (COUNT(*) as ?triples) WHERE {\n  GRAPH ?graph {\n    ?s ?p ?o .\n  }\n}\nGROUP BY ?graph\nORDER BY ?graph\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/hra-scratch/as-3d-cnt-by-release": {
      "get": {
        "description": "Count of 3D Anatomical Structures by release\n\n```\n#+ summary: Count of 3D Anatomical Structures by release\n#+ description: Count of 3D Anatomical Structures by release\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT ?release (SAMPLE(?organ) AS ?organName) (COUNT(?structure) AS ?asCount)\nWHERE {\n  GRAPH ?release {\n    ?structure ccf:has_reference_organ ?ref_organ .\n  }\n  BIND (REPLACE(REPLACE(REPLACE(REPLACE(STR(?ref_organ), \"http://purl.org/ccf/latest/ccf.owl#\", \"\"), \"V1.1\", \"\"), \"V1.2\", \"\"), \"V1.0\", \"\") as ?organ)\n  FILTER (STRSTARTS(STR(?release), \"https://purl.org/ccf/releases/\"))\n}\nGROUP BY ?release ?organ\nORDER BY DESC(?release) DESC(?asCount)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Count of 3D Anatomical Structures by release",
        "tags": []
      }
    },
    "/hra-scratch/as-part-of-kidney": {
      "get": {
        "description": "\n\n```\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccfo: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?parent_as ?child_as ?parent_label ?child_label\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?child_as ccfo:ccf_part_of* ?parent_as .\n  ?parent_as rdfs:label ?parent_label .\n  ?child_as rdfs:label ?child_label .\n  VALUES ?parent_as { <http://purl.obolibrary.org/obo/UBERON_0002113> }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/hra-scratch/ftu-cell-dataset-summaries": {
      "get": {
        "description": "Gathers the dataset cell summaries for each FTU.\n\n```\n#+ summary: Dataset Cell Summaries By FTU\n#+ description: Gathers the dataset cell summaries for each FTU.\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ctpop: <https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#graph>\nPREFIX iftu: <https://hubmapconsortium.github.io/hra-ui/apps/ftu-ui/assets/TEMP/2d-ftu-illustrations.jsonld>\n\nSELECT DISTINCT ?ftu ?organ ?ftu_label ?organ_label ?ref_organ ?dataset ?summary ?cell_annotation_method ?cell_id ?cell_label ?count ?percentage\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM ctpop:\nFROM iftu:\nWHERE {\n  {\n    ?ftu ccf:organ_id ?organ .\n  } UNION {\n    # Workaround for prostate\n    VALUES (?ftu ?organ) {\n      ( <https://purl.humanatlas.io/2d-ftu/prostate-prostate-glandular-acinus> <http://purl.obolibrary.org/obo/UBERON_0000079> )\n    }\n  }\n\n  # List of query organ iris\n  {\n    ?ftu rdfs:label ?ftu_label .\n    ?ftu ccf:representation_of ?ftu_term .\n  }\n  ?organ rdfs:label ?organ_label .\n\n  # Get all AS part of ?organ\n  {\n    ?child_as ccf:ccf_part_of* ?organ .\n    ?child_as rdfs:label ?child_label .\n  }\n\n  # Get ?ref_organ that represent something part of ?organ\n  {\n    ?ref_organ ccf:has_reference_organ ?ref_organ .\n    ?ref_organ ccf:representation_of ?child_as .\n  }\n\n  # Get ?datasets placed relative to ?ref_organ\n  {\n    ?rui_location a ccf:SpatialEntity .\n    ?dataset a ccf:Dataset .\n    ?sample ccf:generates_dataset ?dataset .\n    ?sample ccf:has_registration_location ?rui_location .\n\n    ?placement ccf:placement_for ?rui_location .\n    ?placement ccf:placement_relative_to ?ref_organ .\n  }\n\n  # Get cells in ftu illustrations by cell label\n  # {\n  #   ?ftu ccf:has_illustration_node [\n  #     ccf:representation_of ?ftu_cell_id ;\n  #   ] .\n  #   ?ftu_cell_id rdfs:label ?cell_label .\n  # }\n\n  # Get cells in ftu illustrations by cell id\n  # {\n  #   ?ftu ccf:has_illustration_node [\n  #     ccf:representation_of ?cell_id ;\n  #   ] .\n  #   ?cell_id rdfs:label ?cell_label .\n  # }\n\n  # Get cell summaries attached to ?datasets\n  {\n    SELECT * WHERE {\n      ?dataset ccf:has_cell_summary ?summary .\n      ?summary ccf:cell_annotation_method ?cell_annotation_method .\n      ?summary ccf:has_cell_summary_row ?row .\n\n      ?row ccf:cell_id ?cell_id .\n      ?row ccf:cell_label ?cell_label .\n      ?row ccf:cell_count ?count .\n      ?row ccf:percentage_of_total ?percentage .\n    }\n  }\n}\nORDER BY ?ftu ?organ ?dataset ?summary\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Dataset Cell Summaries By FTU",
        "tags": []
      }
    },
    "/hra-scratch/ftu-cell-summaries": {
      "get": {
        "description": "Computes the cell summaries for each FTU. The Blazegraph version reduces the amount of code duplication.\n\n```\n#+ summary: Cell Summaries By FTU\n#+ description: Computes the cell summaries for each FTU. The Blazegraph version reduces the amount of code duplication.\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ctpop: <https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#graph>\nPREFIX iftu: <https://hubmapconsortium.github.io/hra-ui/apps/ftu-ui/assets/TEMP/2d-ftu-illustrations.jsonld>\n\nSELECT ?ftu ?cell_id ?cell_label ?count (?count / ?total_count as ?percentage)\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM ctpop:\nFROM iftu:\nWHERE {\n  {\n    SELECT DISTINCT ?ftu ?cell_id ?cell_label (SUM(?count) as ?count)\n\n    WHERE {\n      {\n        ?ftu ccf:organ_id ?organ .\n      } UNION {\n        # Workaround for prostate\n        VALUES (?ftu ?organ) {\n          ( <https://purl.humanatlas.io/2d-ftu/prostate-prostate-glandular-acinus> <http://purl.obolibrary.org/obo/UBERON_0000079> )\n        }\n      }\n\n      # List of query organ iris\n      {\n        ?ftu rdfs:label ?ftu_label .\n        ?ftu ccf:representation_of ?ftu_term .\n      }\n      ?organ rdfs:label ?organ_label .\n\n      # Get all AS part of ?organ\n      {\n        ?child_as ccf:ccf_part_of* ?organ .\n        ?child_as rdfs:label ?child_label .\n      }\n\n      # Get ?ref_organ that represent something part of ?organ\n      {\n        ?ref_organ ccf:has_reference_organ ?ref_organ .\n        ?ref_organ ccf:representation_of ?child_as .\n      }\n\n      # Get ?datasets placed relative to ?ref_organ\n      {\n        ?rui_location a ccf:SpatialEntity .\n        ?dataset a ccf:Dataset .\n        ?sample ccf:generates_dataset ?dataset .\n        ?sample ccf:has_registration_location ?rui_location .\n\n        ?placement ccf:placement_for ?rui_location .\n        ?placement ccf:placement_relative_to ?ref_organ .\n      }\n\n      # Get cells in ftu illustrations by cell label\n      # {\n      #   ?ftu ccf:has_illustration_node [\n      #     ccf:representation_of ?ftu_cell_id ;\n      #   ] .\n      #   ?ftu_cell_id rdfs:label ?cell_label .\n      # }\n\n      # Get cells in ftu illustrations by cell id\n      # {\n      #   ?ftu ccf:has_illustration_node [\n      #     ccf:representation_of ?cell_id ;\n      #   ] .\n      #   ?cell_id rdfs:label ?cell_label .\n      # }\n\n      # Get cell summaries attached to ?datasets\n      {\n        ?dataset ccf:has_cell_summary ?summary .\n        ?summary ccf:cell_annotation_method ?cell_annotation_method .\n        ?summary ccf:has_cell_summary_row ?row .\n\n        ?row ccf:cell_id ?cell_id .\n        ?row ccf:cell_label ?cell_label .\n        ?row ccf:cell_count ?count .\n        ?row ccf:percentage_of_total ?percentage .\n      }\n    }\n    GROUP BY ?ftu ?cell_id ?cell_label ?cell_count\n  }\n\n  {\n    SELECT DISTINCT ?ftu (SUM(?count) as ?total_count)\n\n    WHERE {\n      {\n        ?ftu ccf:organ_id ?organ .\n      } UNION {\n        # Workaround for prostate\n        VALUES (?ftu ?organ) {\n          ( <https://purl.humanatlas.io/2d-ftu/prostate-prostate-glandular-acinus> <http://purl.obolibrary.org/obo/UBERON_0000079> )\n        }\n      }\n\n      # List of query organ iris\n      {\n        ?ftu rdfs:label ?ftu_label .\n        ?ftu ccf:representation_of ?ftu_term .\n      }\n      ?organ rdfs:label ?organ_label .\n\n      # Get all AS part of ?organ\n      {\n        ?child_as ccf:ccf_part_of* ?organ .\n        ?child_as rdfs:label ?child_label .\n      }\n\n      # Get ?ref_organ that represent something part of ?organ\n      {\n        ?ref_organ ccf:has_reference_organ ?ref_organ .\n        ?ref_organ ccf:representation_of ?child_as .\n      }\n\n      # Get ?datasets placed relative to ?ref_organ\n      {\n        ?rui_location a ccf:SpatialEntity .\n        ?dataset a ccf:Dataset .\n        ?sample ccf:generates_dataset ?dataset .\n        ?sample ccf:has_registration_location ?rui_location .\n\n        ?placement ccf:placement_for ?rui_location .\n        ?placement ccf:placement_relative_to ?ref_organ .\n      }\n\n      # Get cells in ftu illustrations by cell label\n      # {\n      #   ?ftu ccf:has_illustration_node [\n      #     ccf:representation_of ?ftu_cell_id ;\n      #   ] .\n      #   ?ftu_cell_id rdfs:label ?cell_label .\n      # }\n\n      # Get cells in ftu illustrations by cell id\n      # {\n      #   ?ftu ccf:has_illustration_node [\n      #     ccf:representation_of ?cell_id ;\n      #   ] .\n      #   ?cell_id rdfs:label ?cell_label .\n      # }\n\n      # Get cell summaries attached to ?datasets\n      {\n        ?dataset ccf:has_cell_summary ?summary .\n        ?summary ccf:cell_annotation_method ?cell_annotation_method .\n        ?summary ccf:has_cell_summary_row ?row .\n\n        ?row ccf:cell_id ?cell_id .\n        ?row ccf:cell_label ?cell_label .\n        ?row ccf:cell_count ?count .\n        ?row ccf:percentage_of_total ?percentage .\n      }\n    }\n    GROUP BY ?ftu\n  }\n}\nORDER BY ?ftu\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Cell Summaries By FTU",
        "tags": []
      }
    },
    "/hra-scratch/ftu-datasets": {
      "get": {
        "description": "Finds relevant Datasets for each FTU\n\n```\n#+ summary: Datasets by FTU\n#+ description: Finds relevant Datasets for each FTU\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ctpop: <https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#graph>\nPREFIX iftu: <https://hubmapconsortium.github.io/hra-ui/apps/ftu-ui/assets/TEMP/2d-ftu-illustrations.jsonld>\n\nSELECT DISTINCT ?ftu ?organ_label ?dataset ?label ?link ?description\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM ctpop:\nFROM iftu:\nWHERE {\n  {\n    ?ftu ccf:organ_id ?organ .\n  } UNION {\n    # Workaround for prostate\n    VALUES (?ftu ?organ) {\n      ( <https://purl.humanatlas.io/2d-ftu/prostate-prostate-glandular-acinus> <http://purl.obolibrary.org/obo/UBERON_0000079> )\n    }\n  }\n\n  # List of query organ iris\n  {\n    ?ftu rdfs:label ?ftu_label .\n    ?ftu ccf:representation_of ?ftu_term .\n  }\n  ?organ rdfs:label ?organ_label .\n\n  # Get all AS part of ?organ\n  {\n    ?child_as ccf:ccf_part_of* ?organ .\n    ?child_as rdfs:label ?child_label .\n  }\n\n  # Get ?ref_organ that represent something part of ?organ\n  {\n    ?ref_organ ccf:has_reference_organ ?ref_organ .\n    ?ref_organ ccf:representation_of ?child_as .\n  }\n\n  # Get ?datasets placed relative to ?ref_organ\n  {\n    ?rui_location a ccf:SpatialEntity .\n    ?dataset a ccf:Dataset .\n    ?sample ccf:generates_dataset ?dataset .\n    ?sample ccf:has_registration_location ?rui_location .\n\n    ?placement ccf:placement_for ?rui_location .\n    ?placement ccf:placement_relative_to ?ref_organ .\n  }\n\n  # Get ?dataset metadata\n  {\n    ?dataset rdfs:label ?label .\n    ?dataset ccf:url ?link .\n    ?dataset rdfs:comment ?description .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Datasets by FTU",
        "tags": []
      }
    },
    "/hra-scratch/get-glb-nodes": {
      "get": {
        "description": "Get Reference Organ GLB scene nodes and associated ontology terms\n\n```\n#+ summary: Get glb nodes and terms\n#+ description: Get Reference Organ GLB scene nodes and associated ontology terms\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?ref_organ ?glb_url ?scene_node ?node_id ?node_iri ?node_label\nFROM <https://purl.humanatlas.io/graph/ccf>\nWHERE {\n  ?ref_organ_node ccf:has_object_reference [\n  \tccf:file_url ?glb_url ;\n    ccf:file_subpath ?scene_node ;\n  ] .\n\n  ?ref_organ_node ccf:has_reference_organ ?ref_organ .\n  ?ref_organ_node ccf:representation_of ?node_iri .\n  ?node_iri rdfs:label ?node_label .\n\n  BIND(REPLACE(REPLACE(STR(?node_iri), \"http://purl.obolibrary.org/obo/UBERON_\", \"UBERON:\"), \"http://purl.org/sig/ont/fma/fma\", \"FMA:\") as ?node_id)\n}\nORDER BY ?ref_organ ?node_id\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Get glb nodes and terms",
        "tags": []
      }
    },
    "/hra-scratch/kidney-cell-summaries": {
      "get": {
        "description": "\n\n```\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ctpop: <https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#graph>\n\nSELECT DISTINCT ?organ ?organ_label ?dataset ?summary ?cell_annotation_method ?cell_id ?cell_label ?count ?percentage\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM ctpop:\nWHERE {\n  # List of query organ iris\n  VALUES ?organ { <http://purl.obolibrary.org/obo/UBERON_0002113> }\n\n  # Get all AS part of ?organ\n  {\n    ?child_as ccf:ccf_part_of* ?organ .\n    ?organ rdfs:label ?organ_label .\n    ?child_as rdfs:label ?child_label .\n  }\n  UNION\n  { # Make ?organ selectable as well\n    BIND(?organ as ?child_as)\n  }\n\n  # Get ?ref_organ that represent something part of ?organ\n  {\n    ?ref_organ ccf:has_reference_organ ?ref_organ .\n    ?ref_organ ccf:representation_of ?child_as .\n  }\n\n  # Get ?datasets placed relative to ?ref_organ\n  {\n    ?rui_location a ccf:SpatialEntity .\n    ?dataset a ccf:Dataset .\n    ?sample ccf:generates_dataset ?dataset .\n    ?sample ccf:has_registration_location ?rui_location .\n\n    ?placement ccf:placement_for ?rui_location .\n    ?placement ccf:placement_relative_to ?ref_organ .\n  }\n\n  # Get cell summaries attached to ?datasets\n  {\n    SELECT * WHERE {\n      ?dataset ccf:has_cell_summary ?summary .\n      ?summary ccf:cell_annotation_method ?cell_annotation_method .\n      ?summary ccf:has_cell_summary_row ?row .\n\n      ?row ccf:cell_id ?cell_id .\n      ?row ccf:cell_label ?cell_label .\n      ?row ccf:cell_count ?count .\n      ?row ccf:percentage_of_total ?percentage .\n    }\n  }\n}\nORDER BY ?organ ?dataset ?summary\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/hra-scratch/kidney-datasets": {
      "get": {
        "description": "\n\n```\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX ctpop: <https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#graph>\n\nSELECT DISTINCT ?organ ?organ_label ?dataset ?label ?link ?description\nFROM <https://purl.humanatlas.io/graph/ccf>\nFROM ctpop:\nWHERE {\n  # List of query organ iris\n  VALUES ?organ { <http://purl.obolibrary.org/obo/UBERON_0002113> }\n\n  # Get all AS part of ?organ\n  {\n    ?child_as ccf:ccf_part_of* ?organ .\n    ?organ rdfs:label ?organ_label .\n    ?child_as rdfs:label ?child_label .\n  }\n  UNION\n  { # Make ?organ selectable as well\n    BIND(?organ as ?child_as)\n  }\n\n  # Get ?ref_organ that represent something part of ?organ\n  {\n    ?ref_organ ccf:has_reference_organ ?ref_organ .\n    ?ref_organ ccf:representation_of ?child_as .\n  }\n\n  # Get metadata about ?datasets placed relative to ?ref_organ\n  {\n    ?rui_location a ccf:SpatialEntity .\n    ?dataset a ccf:Dataset .\n    ?sample ccf:generates_dataset ?dataset .\n    ?sample ccf:has_registration_location ?rui_location .\n\n    ?placement ccf:placement_for ?rui_location .\n    ?placement ccf:placement_relative_to ?ref_organ .\n\n    ?dataset rdfs:label ?label .\n    ?dataset ccf:url ?link .\n    ?dataset rdfs:comment ?description .\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/mesh-collision/anatomical-structures": {
      "get": {
        "description": "\n\n```\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\n\nSELECT DISTINCT ?reference_organ ?anatomical_structure_of \n  ?source_spatial_entity ?node_name ?label ?ontologyID ?representation_of ?glb_file\n  ?x_translation ?y_translation ?z_translation\nFROM HRA:\nWHERE {\n  ?anatomical_structure_of a ccf:SpatialEntity ;\n    ccf:has_reference_organ ?reference_organ ;\n    ccf:representation_of ?representation_of ;\n    skos:prefLabel ?label ; # When using HRA\n    ccf:has_object_reference ?object .\n  ?object a ccf:SpatialObjectReference ;\n    ccf:file_url ?glb_file ;\n    ccf:file_subpath ?node_name .\n  \n  ?reference_organ ccf:organ_owner_sex ?sex .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_for ?object ;\n    # ccf:placement_relative_to ?anatomical_structure_of ;\n    ccf:x_translation ?tmp_x_translation ;\n    ccf:y_translation ?tmp_y_translation ;\n    ccf:z_translation ?tmp_z_translation .\n  \n  BIND(REPLACE(REPLACE(STR(?representation_of), STR(UBERON:), \"UBERON:\"), STR(FMA:), \"FMA:\") as ?ontologyID)\n  BIND(IF(?sex = \"Female\", \"#VHFemaleOrgans\", \"#VHMaleOrgans\") as ?source_spatial_entity)\n  BIND(xsd:decimal(?tmp_x_translation) / -1000 as ?x_translation)\n  BIND(xsd:decimal(?tmp_y_translation) / -1000 as ?y_translation)\n  BIND(xsd:decimal(?tmp_z_translation) / -1000 as ?z_translation)\n}\nORDER BY ?reference_organ\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/mesh-collision/placement-patches": {
      "get": {
        "description": "\n\n```\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\nPREFIX ccf1: <http://purl.org/ccf/latest/ccf.owl#>\nPREFIX HRAbody: <https://purl.humanatlas.io/graph/hra-ccf-body#>\nPREFIX HRApatches: <https://purl.humanatlas.io/graph/hra-ccf-patches>\n\nSELECT DISTINCT ?source ?target \n  ?x_scaling ?y_scaling ?z_scaling\n  ?x_rotation ?y_rotation ?z_rotation\n  ?x_translation ?y_translation ?z_translation ?translation_units\nFROM HRApatches:\nWHERE {\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_for ?source ;\n    ccf:placement_relative_to ?target ;\n    ccf:x_scaling ?tmp_x_scaling ;\n    ccf:y_scaling ?tmp_y_scaling ;\n    ccf:z_scaling ?tmp_z_scaling ;\n    ccf:x_rotation ?tmp_x_rotation ;\n    ccf:y_rotation ?tmp_y_rotation ;\n    ccf:z_rotation ?tmp_z_rotation ;\n    ccf:x_translation ?tmp_x_translation ;\n    ccf:y_translation ?tmp_y_translation ;\n    ccf:z_translation ?tmp_z_translation ;\n    ccf:translation_unit ?translation_units .\n\n    FILTER(?target = ccf1:VHBothSexes || ?target = HRAbody:VHBothSexes || \n      !(?source IN (ccf1:VHFemale, ccf1:VHMale, HRAbody:VHFemale, HRAbody:VHMale)))\n\n    BIND(xsd:decimal(?tmp_x_scaling) as ?x_scaling)\n    BIND(xsd:decimal(?tmp_y_scaling) as ?y_scaling)\n    BIND(xsd:decimal(?tmp_z_scaling) as ?z_scaling)\n\n    BIND(xsd:decimal(?tmp_x_rotation) as ?x_rotation)\n    BIND(xsd:decimal(?tmp_y_rotation) as ?y_rotation)\n    BIND(xsd:decimal(?tmp_z_rotation) as ?z_rotation)\n\n    BIND(xsd:decimal(?tmp_x_translation) as ?x_translation)\n    BIND(xsd:decimal(?tmp_y_translation) as ?y_translation)\n    BIND(xsd:decimal(?tmp_z_translation) as ?z_translation)\n}\nORDER BY ?source ?target\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://lod.humanatlas.io/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/ubergraph/cell_by_location": {
      "get": {
        "description": "Enter an anatomical location, get back a list of cell type IRIs and labels\n\n```\n#+ summary: Find cells by location\n#+ description: Enter an anatomical location, get back a list of cell type IRIs and labels\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX overlaps: <http://purl.obolibrary.org/obo/RO_0002131>\nPREFIX cell: <http://purl.obolibrary.org/obo/CL_0000000>\n\nSELECT DISTINCT ?cell_iri (STR(?qlabel) as ?cell_label)\nWHERE {\n   ?cell_iri overlaps: ?_location_iri .\n   ?cell_iri rdfs:subClassOf cell: .\n   ?cell_iri rdfs:label ?qlabel .\n  }\n\n\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://ubergraph.apps.renci.org/sparql"
            }
          },
          {
            "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
            "in": "query",
            "name": "location",
            "required": true,
            "schema": {
              "type": "string",
              "format": "iri",
              "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Find cells by location",
        "tags": []
      }
    },
    "/ubergraph/cl_parents": {
      "get": {
        "description": "Get back a list of cell types and parent cell type IRIs and labels\n\n```\n#+ summary: Find cell parent classes\n#+ description: Get back a list of cell types and parent cell type IRIs and labels\n\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX overlaps: <http://purl.obolibrary.org/obo/RO_0002131>\nPREFIX cell: <http://purl.obolibrary.org/obo/CL_0000000>\n\nSELECT DISTINCT ?cell ?cell_label ?parent_cell ?parent_label\nWHERE { \n    ?cell rdfs:label ?cell_label .\n    ?cell rdfs:subClassOf cell: .\n    ?cell rdfs:subClassOf ?parent_cell .\n    ?parent_cell rdfs:subClassOf cell: .\n    ?parent_cell rdfs:label ?parent_label .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://ubergraph.apps.renci.org/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Find cell parent classes",
        "tags": []
      }
    },
    "/ubergraph/cl_parents_by_label": {
      "get": {
        "description": "Enter a cell type rdfs label, get back a list of parent cell type IRIs and labels\n\n```\n#+ summary: Find cell parent classes by label\n#+ description: Enter a cell type rdfs label, get back a list of parent cell type IRIs and labels\n\n#+ defaults:\n#+   - label: \"mature B cell\"\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX overlaps: <http://purl.obolibrary.org/obo/RO_0002131>\nPREFIX cell: <http://purl.obolibrary.org/obo/CL_0000000>\n\nSELECT *\nWHERE {\n  {\n    {\n      SELECT DISTINCT ?cell ?cell_label ?parent_cell ?parent_label\n      WHERE { \n        ?cell rdfs:label ?cell_label .\n        ?cell rdfs:subClassOf cell: .\n        ?cell rdfs:subClassOf ?parent_cell .\n        ?parent_cell rdfs:subClassOf cell: .\n        ?parent_cell rdfs:label ?parent_label .\n      }\n    }\n  }\n  FILTER( STR(?cell_label) = ?_label ) .\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://ubergraph.apps.renci.org/sparql"
            }
          },
          {
            "description": "A value of type string that will substitute ?_label in the original query",
            "in": "query",
            "name": "label",
            "required": true,
            "schema": {
              "type": "string",
              "default": "mature B cell"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "Find cell parent classes by label",
        "tags": []
      }
    },
    "/ubergraph-scratch/as-in-organ": {
      "get": {
        "description": "\n\n```\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\n\nSELECT DISTINCT ?as ?organ\nFROM <http://reasoner.renci.org/redundant>\nWHERE {\n  VALUES (?organ_id) {\n    (UBERON:0000029) (UBERON:0000059) (UBERON:0000178) (UBERON:0000948) (UBERON:0000955) (UBERON:0000970) (UBERON:0000995) (UBERON:0001004) (UBERON:0001223) (UBERON:0001255) (UBERON:0001264) (UBERON:0001270) (UBERON:0001302) (UBERON:0001303) (UBERON:0001911) (UBERON:0001987) (UBERON:0002048) (UBERON:0002097) (UBERON:0002106) (UBERON:0002107) (UBERON:0002108) (UBERON:0002367) (UBERON:0002370) (UBERON:0002371) (UBERON:0002509) (UBERON:0003126) (UBERON:0004537) (UBERON:0004538) (UBERON:0004539) (UBERON:0004548) (UBERON:0004549)\n  }\n  VALUES (?as_id) {\n    (UBERON:0002078) (UBERON:0002079) (UBERON:0002080) (UBERON:0002084) (UBERON:0002094) (UBERON:0002098)\n  }\n  ?as_id part_of: ?organ_id .\n\n  BIND(REPLACE(STR(?as_id), 'http://purl.obolibrary.org/obo/UBERON_', 'UBERON:') as ?as)\n  BIND(REPLACE(STR(?organ_id), 'http://purl.obolibrary.org/obo/UBERON_', 'UBERON:') as ?organ)\n\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://ubergraph.apps.renci.org/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/ubergraph-scratch/asct-graph": {
      "get": {
        "description": "\n\n```\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX cl_owl: <http://purl.obolibrary.org/obo/cl.owl>\nPREFIX pcl_owl: <http://purl.obolibrary.org/obo/pcl.owl>\nPREFIX uberon_owl: <http://purl.obolibrary.org/obo/uberon.owl>\n\n# add version iris\n\nCONSTRUCT {\n  ?as_child part_of: ?as_parent .\n  ?ct part_of: ?as_child .\n  ?ct_child rdfs:subClassOf ?ct_parent .\n}\nWHERE {\n  {\n    SELECT ?as_child ?as_parent ?ct WHERE {\n      VALUES (?cl_vocab) {\n        ( cl_owl: ) ( pcl_owl: )\n      }\n    \n      # Limit terms to uberon and cl\n      ?as_child rdfs:isDefinedBy uberon_owl: .\n      ?as_parent rdfs:isDefinedBy uberon_owl: .\n      ?ct rdfs:isDefinedBy ?cl_vocab .\n\n      GRAPH <http://reasoner.renci.org/nonredundant> {\n        ?as_child part_of: ?as_parent .\n      }\n      GRAPH <http://reasoner.renci.org/nonredundant> {\n        ?ct part_of: ?as_child .\n      }\n    }\n  }\n\n  {\n    SELECT ?ct_child ?ct_parent WHERE {\n      VALUES (?cl_vocab) {\n        ( cl_owl: ) ( pcl_owl: )\n      }\n\n      # Limit terms to uberon and cl\n      ?ct_parent rdfs:isDefinedBy ?cl_vocab .\n      ?ct_child rdfs:isDefinedBy ?cl_vocab .\n\n      GRAPH <http://reasoner.renci.org/nonredundant> {\n        ?ct_child rdfs:subClassOf ?ct_parent .\n      }\n    }\n  }\n}\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://ubergraph.apps.renci.org/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    },
    "/ubergraph-scratch/graphs": {
      "get": {
        "description": "\n\n```\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?graph (COUNT(*) as ?triples) WHERE {\n  GRAPH ?graph {\n    ?s ?p ?o .\n  }\n}\nGROUP BY ?graph\nORDER BY DESC(?triples)\n\n```",
        "parameters": [
          {
            "description": "Alternative endpoint for SPARQL query",
            "in": "query",
            "name": "endpoint",
            "schema": {
              "type": "string",
              "default": "https://ubergraph.apps.renci.org/sparql"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Query response",
            "content": {
              "text/csv": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              },
              "text/html": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array"
                }
              }
            }
          },
          "default": {
            "description": "Unexpected error",
            "content": {
              "text/csv": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              },
              "text/html": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          }
        },
        "summary": "",
        "tags": []
      }
    }
  },
  "components": {
    "schemas": {
      "Message": {
        "type": "string"
      }
    }
  }
}