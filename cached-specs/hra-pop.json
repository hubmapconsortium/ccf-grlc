{
    "openapi": "3.0.0",
    "info": {
        "contact": {
            "name": "hubmapconsortium",
            "url": "https://github.com/hubmapconsortium"
        },
        "description": "ccf-grlc: Useful SPARQL queries for HRA work + API via grlc.io<div class=\"errors-wrapper\">Could not parse query datasets-with-ftu-cells: could not parse query: Expected end of text, found 'SELECT'  (at char 665), (line:15, col:1)</div>",
        "license": {
            "name": "License",
            "url": "https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/LICENSE"
        },
        "title": "ccf-grlc",
        "version": "0dfd409df1e8f0d715d79537298cd7d89dac92eb"
    },
    "paths": {
        "/all-collisions": {
            "get": {
                "description": "\n\n```\n#+ summary: All extraction site collisions in HRApop\n\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?extraction_site_iri ?representation_of (xsd:decimal(?percentage) as ?percentage_of_tissue_block)\nFROM HRApop:\nWHERE {\n  ?extraction_site_iri a ccf:SpatialEntity ;\n    ccf:has_collision_summary [\n      ccf:has_collision_item [\n        ccf:as_id ?representation_of ;\n        ccf:percentage_of_total ?percentage ;\n      ]\n    ]\n}\nORDER BY ?extraction_site_iri DESC(?percentage)\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "All extraction site collisions in HRApop",
                "tags": []
            }
        },
        "/as-count": {
            "get": {
                "description": "\n\n```\n#+ summary: Number of Anatomical Structures with Cell Summaries\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT (COUNT(DISTINCT ?as) as ?as_count)\nFROM HRApop:\nWHERE {\n  {\n  \t?as ccf:has_cell_summary [ ] .\n    FILTER(?as != ccf:)\n  } MINUS {\n    ?as a ccf:SpatialEntity .\n  } MINUS {\n    ?as a ccf:Dataset .\n  }\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Number of Anatomical Structures with Cell Summaries",
                "tags": []
            }
        },
        "/as-ct-b-experimental-trios-by-dataset-by-location": {
            "get": {
                "description": "Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n```\n#+ summary: Cell Summaries with Biomarker information by Dataset\n#+ description: Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT\n  ?as_label\n  ?ct_label\n  ?biomarker_label\n  ?as\n  ?ct\n  ?biomarker\n  ?cell_count \n  (?mean_gene_expr_value as ?gene_expr)\n  ?dataset\n  ?tool\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    SELECT DISTINCT ?rui_location ?as_label ?as\n    WHERE {\n      ?rui_location ccf:has_collision_summary [\n        ccf:has_collision_item [\n          ccf:as_id ?as ;\n        ]\n      ] .\n      ?as rdfs:label ?as_label .\n\n      FILTER EXISTS {\n        # VALUES (?_location_iri) {\n        #   (<http://purl.obolibrary.org/obo/UBERON_0002113>)\n        # }\n        ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n      }\n    }\n  }\n\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n  \n  ?dataset ccf:has_cell_summary [\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?ct ;\n      ccf:cell_label ?raw_cell_label ;\n      ccf:cell_count ?cell_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n        ccf:gene_id ?biomarkerId ;\n        ccf:mean_gene_expr_value ?mean_gene_expr_value ;\n      ]\n    ]\n  ] .\n\n  OPTIONAL { ?ct rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?ct_label)\n  BIND(IRI(REPLACE(REPLACE(REPLACE(STR(?biomarkerId), \n      'HGNC:', 'http://identifiers.org/hgnc/'), \n      'ASCTB-TEMP:', 'https://purl.org/ccf/ASCTB-TEMP_'),\n      'ensembl:', 'https://identifiers.org/ensembl:')\n    ) as ?biomarker)\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    },
                    {
                        "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
                        "in": "query",
                        "name": "location",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "iri",
                            "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell Summaries with Biomarker information by Dataset",
                "tags": []
            }
        },
        "/as-ct-b-experimental-trios-by-location": {
            "get": {
                "description": "Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n```\n#+ summary: Cell Summaries with Biomarker information by Dataset\n#+ description: Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n#+ defaults:\n#+   - location: http://purl.obolibrary.org/obo/UBERON_0002113\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT \n  (SAMPLE(?as_label) AS ?as_label)\n  (SAMPLE(?ct_label) AS ?ct_label)\n  (SAMPLE(?biomarker_label) AS ?biomarker_label)\n  ?as\n  ?ct\n  ?biomarker\n  (SUM(?cell_count) AS ?cell_count)\n  (AVG(?mean_gene_expr_value) AS ?gene_expr)\n  ?tool\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    SELECT DISTINCT ?rui_location ?as_label ?as\n    WHERE {\n      ?rui_location ccf:has_collision_summary [\n        ccf:has_collision_item [\n          ccf:as_id ?as ;\n        ]\n      ] .\n      ?as rdfs:label ?as_label .\n\n      FILTER EXISTS {\n        # VALUES (?_location_iri) {\n        #   (<http://purl.obolibrary.org/obo/UBERON_0002113>)\n        # }\n        ?as ccf:ccf_part_of*|part_of:* ?_location_iri .\n      }\n    }\n  }\n\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n  \n  ?dataset ccf:has_cell_summary [\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?ct ;\n      ccf:cell_label ?raw_cell_label ;\n      ccf:cell_count ?cell_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n        ccf:gene_id ?biomarkerId ;\n        ccf:mean_gene_expr_value ?mean_gene_expr_value ;\n      ]\n    ]\n  ] .\n\n  OPTIONAL { ?ct rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?ct_label)\n  BIND(IRI(REPLACE(REPLACE(REPLACE(STR(?biomarkerId), \n      'HGNC:', 'http://identifiers.org/hgnc/'), \n      'ASCTB-TEMP:', 'https://purl.org/ccf/ASCTB-TEMP_'),\n      'ensembl:', 'https://identifiers.org/ensembl:')\n    ) as ?biomarker)\n}\nGROUP BY ?tool ?as ?ct ?biomarker\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    },
                    {
                        "description": "A value of type string (iri) that will substitute ?_location_iri in the original query",
                        "in": "query",
                        "name": "location",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "iri",
                            "default": "http://purl.obolibrary.org/obo/UBERON_0002113"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell Summaries with Biomarker information by Dataset",
                "tags": []
            }
        },
        "/biomarkers-in-atlas": {
            "get": {
                "description": "\n\n```\n#+ summary: All biomarkers seen in Atlas Datasets\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?biomarker_label\nFROM HRApop:\nWHERE {\n  [] ccf:generates_dataset ?dataset .\n  ?dataset ccf:has_cell_summary [\n    ccf:has_cell_summary_row [\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n      ]\n    ]\n  ] .\n}\nORDER BY ?biomarker_label\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "All biomarkers seen in Atlas Datasets",
                "tags": []
            }
        },
        "/cell-specific-stats": {
            "get": {
                "description": "\n\n```\n#+ summary: Cell-specific stats for HRApop data\n\nPREFIX hint: <http://www.bigdata.com/queryHints#> \nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT\n  ?ct_parent_label\n  ?organ_label\n  ?sex\n  ?side\n  ?tool\n\n  (COUNT(DISTINCT ?donor) as ?donor_count)\n  (COUNT(DISTINCT ?dataset) as ?dataset_count)\n  (COUNT(DISTINCT ?as) as ?as_count)\n  (COUNT(DISTINCT ?ct) as ?ct_count)\n  (SUM(?cell_count) as ?cell_count)\nFROM HRA:\nFROM HRApop:\nWHERE {\n  hint:Query hint:analytic \"true\" .\n\n  {\n    SELECT DISTINCT ?ct ?ct_parent ?ct_parent_label\n    WHERE {\n      GRAPH <https://purl.humanatlas.io/vocab/cl/redundant> {\n        VALUES (?ct_parent) {\n          (<http://purl.obolibrary.org/obo/CL_0000066>) # epithelial cell\n          (<http://purl.obolibrary.org/obo/CL_0000115>) # endothelial cell\n          (<http://purl.obolibrary.org/obo/CL_2000032>) # peripheral nervous system neuron AKA peripheral neuron\n          (<http://purl.obolibrary.org/obo/CL_0000136>) # adipocyte\n          (<http://purl.obolibrary.org/obo/CL_0000057>) # fibroblast\n          (<http://purl.obolibrary.org/obo/CL_0000192>) # smooth muscle cell\n          (<http://purl.obolibrary.org/obo/CL_0000738>) # leukocyte AKA immune cell \n        }\n        ?ct rdfs:subClassOf ?ct_parent .\n        FILTER(STRSTARTS(STR(?ct), \"http://purl.obolibrary.org/obo/CL_\"))\n      }\n      GRAPH <https://purl.humanatlas.io/vocab/cl> {\n        ?ct_parent rdfs:label ?ct_parent_label .\n      }\n      hint:SubQuery hint:runOnce true .\n    }\n  }\n\n  {\n    SELECT DISTINCT ?organ_label ?organ_id ?sex ?side ?donor ?dataset ?as\n    WHERE {\n      {\n        ?sample ccf:comes_from ?donor .\n        ?sample ccf:has_registration_location ?rui_location .\n        ?sample ccf:generates_dataset ?dataset .\n      } UNION {\n        ?block ccf:comes_from ?donor .\n        ?block ccf:subdivided_into_sections ?sample .\n        ?block ccf:has_registration_location ?rui_location .\n        ?sample ccf:generates_dataset ?dataset .\n      }\n      ?rui_location ccf:has_collision_summary [\n        ccf:has_collision_item [\n          ccf:as_id ?as ;\n        ]\n      ] .\n\n      ?refOrgan owl:sameAs* [\n        ccf:representation_of ?organ_id ;\n        ccf:organ_owner_sex ?sex ;\n      ] .\n      OPTIONAL {\n        ?refOrgan owl:sameAs* [\n          ccf:organ_side ?side ;\n        ] .\n      }\n      ?organ_id skos:prefLabel ?organ_pref_label .\n      BIND(LCASE(REPLACE(REPLACE(?organ_pref_label, 'respiratory system', 'lung'), 'skin of body', 'skin')) as ?organ_label)\n      # ?organ_id rdfs:label ?organ_label .\n\n      [] a ccf:SpatialPlacement ;\n        ccf:placement_for ?rui_location ;\n        ccf:placement_relative_to ?refOrgan .\n      hint:SubQuery hint:runOnce true .\n    }\n  }\n\n  ?dataset ccf:has_cell_summary [\n    # ccf:cell_annotation_method \"sc_proteomics\"^^xsd:string ;\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?ct ;\n      ccf:cell_count ?cell_count ;\n    ]\n  ] .\n}\nGROUP BY ?ct_parent_label ?organ_label ?sex ?side ?tool\nORDER BY ?ct_parent_label ?organ_label ?tool DESC(?cell_count)\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell-specific stats for HRApop data",
                "tags": []
            }
        },
        "/cell-types-in-atlas": {
            "get": {
                "description": "\n\n```\n#+ summary: All cell types seen in Atlas Datasets\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?cell_type_label ?cell_id\nFROM CCF:\nFROM HRApop:\nWHERE {\n  [] ccf:generates_dataset ?dataset .\n  ?dataset ccf:has_cell_summary [\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_label ?cell_type_label ;\n    ]\n  ] .\n}\nORDER BY ?cell_type_label\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "All cell types seen in Atlas Datasets",
                "tags": []
            }
        },
        "/cell-types-level-mapping": {
            "get": {
                "description": "\n\n```\n#+ summary: atlas cell type level mapping\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?cell_label ?cell_id ?level_1_cell_id ?level_1_cell_label\nFROM HRA:\nFROM <https://purl.humanatlas.io/vocab/cl>\nFROM <https://purl.humanatlas.io/vocab/pcl>\nWHERE {\n  # Select cell types to map\n  GRAPH HRApop: {\n    [] ccf:has_cell_summary [\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n      ]\n    ] .\n    FILTER(!STRSTARTS(STR(?cell_id), 'https://purl.org/ccf/ASCTB-TEMP'))\n  }\n  ?cell_id rdfs:label ?cell_label .\n  \n  # Match to upper level cell types\n  OPTIONAL {\n    # https://github.com/obophenotype/cell-ontology/blob/master/src/templates/general_cell_types_upper_slim.csv\n    VALUES (?l1_cell_id) {\n      (CL:0000540) # neuron\n      (CL:0000125) # glial cell\n      (CL:0000066) # epithelial cell\n      (CL:0000152) # exocrine cell\n      (CL:0000057) # fibroblast\n      (CL:0000235) # macrophage\n      (CL:0000084) # T cell\n      (CL:0000236) # B cell\n      (CL:0000623) # natural killer cell\n      (CL:0000451) # dendritic cell\n      (CL:0000192) # smooth muscle cell\n      (CL:0000746) # cardiac muscle cell\n      (CL:0000188) # cardiac muscle cell\n      (CL:0000163) # endocrine cell\n      (CL:0000148) # melanocyte\n      (CL:0009004) # retinal cell\n      (CL:0000349) # extraembryonic cell\n      (CL:0000081) # blood cell\n      (CL:0000576) # monocyte\n      (CL:0000039) # germ line cell\n      (CL:0000136) # fat cell\n      (CL:0000499) # stromal cell\n      (CL:0001035) # bone cell\n      (CL:0000034) # stem cell\n    }\n    ?cell_id (rdfs:subClassOf|rdf:type)* ?l1_cell_id .\n    ?l1_cell_id rdfs:label ?l1_cell_label .\n  }\n\n  BIND(COALESCE(?l1_cell_id, CL:0000000) as ?level_1_cell_id)\n  BIND(COALESCE(?l1_cell_label, 'unknown cell') as ?level_1_cell_label)\n}\nORDER BY ?cell_id\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "atlas cell type level mapping",
                "tags": []
            }
        },
        "/cell-types-per-dataset": {
            "get": {
                "description": "Computes the cell summaries for each organ by dataset.\n\n```\n#+ summary: Cell Summaries by Dataset\n#+ description: Computes the cell summaries for each organ by dataset.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ_id ?organ ?dataset ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage \nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?dataset ccf:has_cell_summary [ \n      ccf:cell_annotation_method ?tool ;\n      ccf:modality ?modality ;\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n        ccf:cell_label ?raw_cell_label ;\n        ccf:cell_count ?cell_count ;\n        ccf:percentage_of_total ?cell_percentage ;\n    ]\n  ] .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_relative_to ?refOrgan ;\n    ccf:placement_for ?rui_location .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n    ccf:organ_owner_sex ?sex ;\n    skos:prefLabel ?organ\n  ] .\n\n  ?organ_id rdfs:label ?organ_label .\n\n  OPTIONAL { ?cell_id rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?cell_label)\n}\nORDER BY ?sex ?tool ?dataset DESC(?cell_count)\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell Summaries by Dataset",
                "tags": []
            }
        },
        "/cell-types-per-extraction-site": {
            "get": {
                "description": "Computes the cell summaries for each organ by extraction site.\n\n```\n#+ summary: Cell Summaries by Extraction Site \n#+ description: Computes the cell summaries for each organ by extraction site.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ_id ?organ ?extraction_site ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage \nFROM HRA:\nFROM HRApop:\nWHERE {\n  [] ccf:has_registration_location ?extraction_site .\n\n  ?extraction_site ccf:has_cell_summary [ \n      ccf:cell_annotation_method ?tool ;\n      ccf:modality ?modality ;\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n        ccf:cell_label ?raw_cell_label ;\n        ccf:cell_count ?cell_count ;\n        ccf:percentage_of_total ?cell_percentage ;\n    ]\n  ] .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_relative_to ?refOrgan ;\n    ccf:placement_for ?extraction_site .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n    ccf:organ_owner_sex ?sex ;\n    skos:prefLabel ?organ\n  ] .\n\n  ?organ_id rdfs:label ?organ_label .\n\n  OPTIONAL { ?cell_id rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?cell_label)\n}\nORDER BY ?sex ?tool ?extraction_site DESC(?cell_count)\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell Summaries by Extraction Site",
                "tags": []
            }
        },
        "/cell_types_in_anatomical_structurescts_per_as": {
            "get": {
                "description": "Computes the cell summaries for each organ by anatomical strcutrure.\n\n```\n#+ summary: Cell Summaries by Anatomical Structure \n#+ description: Computes the cell summaries for each organ by anatomical strcutrure.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ ?as ?as_label ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage ?dataset_count\nFROM HRA:\nFROM HRApop:\nWHERE {\n  ?as ccf:has_cell_summary [ \n      ccf:cell_annotation_method ?tool ;\n      ccf:cell_source_label ?as_label ;\n      ccf:sex ?sex ;\n      ccf:modality ?modality ;\n      ccf:aggregated_summary_count ?dataset_count ;\n      ccf:has_cell_summary_row [\n        ccf:cell_id ?cell_id ;\n        ccf:cell_label ?cell_label ;\n        ccf:cell_count ?cell_count ;\n        ccf:percentage_of_total ?cell_percentage ;\n    ]\n  ] .\n  FILTER(STRSTARTS(STR(?as), STR(UBERON:)) || STRSTARTS(STR(?as), STR(FMA:)))\n  \n  ?refOrganPiece ccf:representation_of ?as ;\n      ccf:has_reference_organ ?refOrgan .\n  ?refOrgan ccf:organ_owner_sex ?sex .\n  ?refOrgan skos:prefLabel ?organ .\n}\nORDER BY ?sex ?as ?tool DESC(?cell_count)\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell Summaries by Anatomical Structure",
                "tags": []
            }
        },
        "/ct-bm-per-dataset": {
            "get": {
                "description": "Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\n```\n#+ summary: Cell Summaries with Biomarker information by Dataset\n#+ description: Computes the cell summaries plus biomarkers and their mean gene expression for each organ by dataset.\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX UBERON: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX FMA: <http://purl.org/sig/ont/fma/fma>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?organ_id ?organ ?dataset ?sex ?tool ?modality ?cell_id ?cell_label ?cell_count ?cell_percentage\n  ?biomarker_id ?biomarker_label ?mean_gene_expr_value\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?dataset ccf:has_cell_summary [ \n    ccf:cell_annotation_method ?tool ;\n    ccf:modality ?modality ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_label ?raw_cell_label ;\n      ccf:cell_count ?cell_count ;\n      ccf:percentage_of_total ?cell_percentage ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker_label ;\n        ccf:gene_id ?biomarker_id ;\n        ccf:mean_gene_expr_value ?mean_gene_expr_value ;\n      ]\n    ]\n  ] .\n\n  [] a ccf:SpatialPlacement ;\n    ccf:placement_relative_to ?refOrgan ;\n    ccf:placement_for ?rui_location .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n    ccf:organ_owner_sex ?sex ;\n    skos:prefLabel ?organ\n  ] .\n\n  ?organ_id rdfs:label ?organ_label .\n\n  OPTIONAL { ?cell_id rdfs:label ?rdfs_cell_label . }\n  BIND(COALESCE(?rdfs_cell_label, ?raw_cell_label) as ?cell_label)\n}\nORDER BY ?sex ?tool ?dataset DESC(?cell_count)\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Cell Summaries with Biomarker information by Dataset",
                "tags": []
            }
        },
        "/ctann-organs": {
            "get": {
                "description": "A list of organs supported by Azimuth, CellTypist, or Popv in the hra-workflows-runner\n\n```\n#+ summary: Organs supported by CTAnn\n#+ description: A list of organs supported by Azimuth, CellTypist, or Popv in the hra-workflows-runner\n\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ccf: <http://purl.org/ccf/>\n\nSELECT DISTINCT ?organ_id\nFROM <https://purl.humanatlas.io/graph/ctann-crosswalks>\nWHERE {\n  ?tool ccf:organ_id ?organ_id\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Organs supported by CTAnn",
                "tags": []
            }
        },
        "/datasets-with-as-collisions": {
            "get": {
                "description": "\n\n```\n#+ summary: get HRApop datasets with AS collisions\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?dataset ?organ_id ?as_id\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?rui_location ccf:has_collision_summary [\n    ccf:has_collision_item [\n      ccf:has_reference_organ ?refOrgan ;\n      ccf:as_id ?as_id ;\n    ]\n  ] .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n  ] .\n}\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "get HRApop datasets with AS collisions",
                "tags": []
            }
        },
        "/datasets-with-bm": {
            "get": {
                "description": "Atlas Datasets that have a given Biomarker. There is one CT-BM expression per row.\n\n```\n#+ summary: Atlas Datasets with a given Biomarker\n#+ description: Atlas Datasets that have a given Biomarker. There is one CT-BM expression per row.\n\n#+ defaults:\n#+   - bmlabel: ENSG00000169710\n\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?source ?dataset ?organ ?sex ?tool ?cell_type ?cell_type_label ?cell_type_count ?biomarker ?mean_expression_value\nFROM CCF:\nFROM HRApop:\nWHERE {\n  ?donor ccf:consortium_name ?source .\n\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  {\n    ?dataset ccf:organ_id ?reportedOrganIriString .\n    BIND(IRI(?reportedOrganIriString) as ?reportedOrganIri)\n\n    OPTIONAL {\n      ?reportedOrganIri rdfs:label ?reportedOrganRdfsLabel .\n    }\n    OPTIONAL {\n      ?reportedOrganIri ccf:ccf_pref_label ?reportedOrganCcfLabel .\n    }\n    BIND(IF(BOUND(?reportedOrganRdfsLabel), ?reportedOrganRdfsLabel, ?reportedOrganCcfLabel) as ?organ)\n  }\n\n  ?dataset ccf:has_cell_summary [\n    ccf:sex ?sex ;\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_label ?cell_type_label ;\n      ccf:cell_count ?cell_type_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker ;\n        ccf:mean_gene_expr_value ?gene_expr ;\n      ]\n    ]\n  ] .\n\n  FILTER(EXISTS {\n    ?dataset ccf:has_cell_summary [\n      ccf:sex ?sex ;\n      ccf:cell_annotation_method ?tool ;\n      ccf:has_cell_summary_row [\n        ccf:gene_expr [\n          ccf:gene_label ?biomarker_label ;\n        ]\n      ]\n    ] .\n    FILTER(?_bmlabel = ?biomarker_label)\n  })\n\n  FILTER(CONTAINS(?_bmlabel, ?biomarker) || TRUE)\n\n  BIND(REPLACE(STR(?cell_id), STR(CL:), 'CL:') as ?cell_type)\n  BIND(xsd:decimal(?gene_expr) as ?mean_expression_value)\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    },
                    {
                        "description": "A value of type string that will substitute ?_bmlabel in the original query",
                        "in": "query",
                        "name": "bmlabel",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "default": "ENSG00000169710"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Atlas Datasets with a given Biomarker",
                "tags": []
            }
        },
        "/datasets-with-ct": {
            "get": {
                "description": "Atlas Datasets that have a given Cell Type. There is one CT-BM expression per row.\n\n```\n#+ summary: Atlas Datasets with a given Cell Type\n#+ description: Atlas Datasets that have a given Cell Type. There is one CT-BM expression per row.\n\n#+ defaults:\n#+   - celltype: http://purl.obolibrary.org/obo/CL_0000136\n\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX CL: <http://purl.obolibrary.org/obo/CL_>\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX CCF: <https://purl.humanatlas.io/graph/ccf>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?source ?dataset ?organ ?sex ?tool ?cell_type ?cell_type_label ?cell_type_count ?biomarker ?mean_expression_value\nFROM CCF:\nFROM HRApop:\nWHERE {\n  ?donor ccf:consortium_name ?source .\n\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  {\n    ?dataset ccf:organ_id ?reportedOrganIriString .\n    BIND(IRI(?reportedOrganIriString) as ?reportedOrganIri)\n\n    OPTIONAL {\n      ?reportedOrganIri rdfs:label ?reportedOrganRdfsLabel .\n    }\n    OPTIONAL {\n      ?reportedOrganIri ccf:ccf_pref_label ?reportedOrganCcfLabel .\n    }\n    BIND(IF(BOUND(?reportedOrganRdfsLabel), ?reportedOrganRdfsLabel, ?reportedOrganCcfLabel) as ?organ)\n  }\n\n  ?dataset ccf:has_cell_summary [\n    ccf:sex ?sex ;\n    ccf:cell_annotation_method ?tool ;\n    ccf:has_cell_summary_row [\n      ccf:cell_id ?cell_id ;\n      ccf:cell_id ?_celltype_iri ;\n      ccf:cell_label ?cell_type_label ;\n      ccf:cell_count ?cell_type_count ;\n      ccf:gene_expr [\n        ccf:gene_label ?biomarker ;\n        ccf:mean_gene_expr_value ?gene_expr ;\n      ]\n    ]\n  ] .\n\n  BIND(REPLACE(STR(?cell_id), STR(CL:), 'CL:') as ?cell_type)\n  BIND(xsd:decimal(?gene_expr) as ?mean_expression_value)\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    },
                    {
                        "description": "A value of type string (iri) that will substitute ?_celltype_iri in the original query",
                        "in": "query",
                        "name": "celltype",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "iri",
                            "default": "http://purl.obolibrary.org/obo/CL_0000136"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "Atlas Datasets with a given Cell Type",
                "tags": []
            }
        },
        "/datasets-with-ftu": {
            "get": {
                "description": "\n\n```\n#+ summary: get HRApop datasets with AS collisions that could have an FTU in it\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA_API: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?dataset ?organ_id ?as_id ?ftu ?ftu_iri \nFROM HRA_API:\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      ccf:representation_of ?ftu_iri .\n    BIND(STRBEFORE(STR(?ftu_illustration), '#primary') as ?ftu)\n  }\n\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?rui_location ccf:has_collision_summary [\n    ccf:has_collision_item [\n      ccf:has_reference_organ ?refOrgan ;\n      ccf:as_id ?as_id ;\n    ]\n  ] .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n  ] .\n\n  ?ftu_iri ccf:ccf_part_of* ?as_id .\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "get HRApop datasets with AS collisions that could have an FTU in it",
                "tags": []
            }
        },
        "/datasets-with-maybe-ftu": {
            "get": {
                "description": "\n\n```\n#+ summary: get HRApop datasets with AS collisions that could have an FTU in it\n\nPREFIX ccf: <http://purl.org/ccf/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>\nPREFIX HRA_API: <https://purl.humanatlas.io/collection/hra-api>\nPREFIX HRA: <https://purl.humanatlas.io/collection/hra>\nPREFIX HRApop: <https://purl.humanatlas.io/graph/hra-pop>\n\nSELECT DISTINCT ?dataset ?organ_id ?as_id ?ftu ?ftu_iri \nFROM HRA_API:\nFROM HRA:\nFROM HRApop:\nWHERE {\n  {\n    ?sample ccf:comes_from ?donor .\n    ?sample ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  } UNION {\n    ?block ccf:comes_from ?donor .\n    ?block ccf:subdivided_into_sections ?sample .\n    ?block ccf:has_registration_location ?rui_location .\n    ?sample ccf:generates_dataset ?dataset .\n  }\n\n  ?rui_location ccf:has_collision_summary [\n    ccf:has_collision_item [\n      ccf:has_reference_organ ?refOrgan ;\n      ccf:as_id ?as_id ;\n    ]\n  ] .\n\n  ?refOrgan owl:sameAs* [\n    ccf:representation_of ?organ_id ;\n  ] .\n\n  OPTIONAL {\n    ?ftu_illustration a ccf:FtuIllustration ;\n      ccf:representation_of ?ftu_iri .\n    BIND(STRBEFORE(STR(?ftu_illustration), '#primary') as ?ftu)\n\n    ?ftu_iri ccf:ccf_part_of* ?as_id .\n  }\n}\n\n```",
                "parameters": [
                    {
                        "description": "Alternative endpoint for SPARQL query",
                        "in": "query",
                        "name": "endpoint",
                        "schema": {
                            "type": "string",
                            "default": "https://lod.humanatlas.io/sparql"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Query response",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "items": {
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "Unexpected error",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "$ref": "#/components/schemas/Message"
                                }
                            }
                        }
                    }
                },
                "summary": "get HRApop datasets with AS collisions that could have an FTU in it",
                "tags": []
            }
        }
    },
    "prev_commit": "b837db006572d75322603dd1236e460ca20c1d41",
    "prov": "@prefix prov: <http://www.w3.org/ns/prov#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n<http://grlc.io/api/hubmapconsortium/ccf-grlc/spec> a prov:Entity ;\n    prov:generatedAtTime \"2025-10-15T18:17:56.416970\"^^xsd:dateTime ;\n    prov:wasAttributedTo <http://grlc.io> ;\n    prov:wasGeneratedBy <http://grlc.io/api/hubmapconsortium/ccf-grlc/spec-activity> .\n\n<http://localhost/#commit-014dce894ef3f6ba392e4d068baeaeee206c29e0> a prov:Activity ;\n    prov:endedAtTime \"2025-05-12T17:06:50+00:00\"^^xsd:dateTime .\n\n<http://grlc.io/api/hubmapconsortium/ccf-grlc/spec-activity> a prov:Activity ;\n    prov:endedAtTime \"2025-10-15T18:17:56.416970\"^^xsd:dateTime ;\n    prov:startedAtTime \"2025-10-15T18:17:07.912159\"^^xsd:dateTime ;\n    prov:used <https://api.github.com/repos/hubmapconsortium/ccf-grlc>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/all-collisions.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/as-count.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/as-ct-b-experimental-trios-by-dataset-by-location.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/as-ct-b-experimental-trios-by-location.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/biomarkers-in-atlas.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-specific-stats.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-in-atlas.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-level-mapping.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-per-dataset.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-per-extraction-site.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell_types_in_anatomical_structurescts_per_as.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/ct-bm-per-dataset.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/ctann-organs.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-as-collisions.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-bm.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-ct.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-ftu-cells.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-ftu.rq>,\n        <https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-maybe-ftu.rq> ;\n    prov:wasAssociatedWith <http://grlc.io> .\n\n<https://api.github.com/repos/hubmapconsortium/ccf-grlc> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/all-collisions.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/as-count.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/as-ct-b-experimental-trios-by-dataset-by-location.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/as-ct-b-experimental-trios-by-location.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/biomarkers-in-atlas.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-specific-stats.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-in-atlas.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-level-mapping.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-per-dataset.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell-types-per-extraction-site.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/cell_types_in_anatomical_structurescts_per_as.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/ct-bm-per-dataset.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/ctann-organs.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-as-collisions.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-bm.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-ct.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-ftu-cells.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-ftu.rq> a prov:Entity .\n\n<https://raw.githubusercontent.com/hubmapconsortium/ccf-grlc/main/hra-pop/datasets-with-maybe-ftu.rq> a prov:Entity .\n\n<http://grlc.io> a prov:Agent .\n\n[] a prov:Association ;\n    prov:agent <http://localhost/#user-bherr2> ;\n    prov:hadRole \"author\"@en .\n\n[] a prov:Association ;\n    prov:agent <http://localhost/#user-github-actions> .\n\n",
    "servers": [
        {
            "url": "https://grlc.io/api-git/hubmapconsortium/ccf-grlc/subdir/hra-pop/"
        }
    ],
    "components": {
        "schemas": {
            "Message": {
                "type": "string"
            }
        }
    }
}